window.CodeMirror=(function(){var bz=/gecko\/\d/i.test(navigator.userAgent);var cq=/MSIE \d/.test(navigator.userAgent);var bw=cq&&(document.documentMode==null||document.documentMode<8);var bv=cq&&(document.documentMode==null||document.documentMode<9);var bZ=/WebKit\//.test(navigator.userAgent);var ct=bZ&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var b7=/Chrome\//.test(navigator.userAgent);var dK=/Opera\//.test(navigator.userAgent);var ae=/Apple Computer/.test(navigator.vendor);var aB=/KHTML\//.test(navigator.userAgent);var bK=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent);var b4=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var dH=/PhantomJS/.test(navigator.userAgent);var dj=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var cL=dj||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var bi=dj||/Mac/.test(navigator.platform);var am=/windows/i.test(navigator.platform);var cX=dK&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(cX){cX=Number(cX[1])}var a8=bi&&(ct||dK&&(cX==null||cX<12.11));var bO=bz||(cq&&!bv);var d7=false,ay=false;function z(ec,ed){if(!(this instanceof z)){return new z(ec,ed)}this.options=ed=ed||{};for(var ee in dl){if(!ed.hasOwnProperty(ee)&&dl.hasOwnProperty(ee)){ed[ee]=dl[ee]}}bq(ed);var ei=typeof ed.value=="string"?0:ed.value.first;var eh=this.display=f(ec,ei);eh.wrapper.CodeMirror=this;cH(this);if(ed.autofocus&&!cL){c0(this)}this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,draggingText:false,highlight:new eb()};bT(this);if(ed.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}var eg=ed.value;if(typeof eg=="string"){eg=new Y(ed.value,ed.mode)}b0(this,cG)(this,eg);if(cq){setTimeout(bF(dD,this,true),20)}dX(this);var ej;try{ej=(document.activeElement==eh.input)}catch(ef){}if(ej||(ed.autofocus&&!cL)){setTimeout(bF(bJ,this),20)}else{aq(this)}b0(this,function(){for(var el in aE){if(aE.propertyIsEnumerable(el)){aE[el](this,ed[el],bo)}}for(var ek=0;ek<az.length;++ek){az[ek](this)}})()}function f(ec,ee){var ef={};var ed=ef.input=d2("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");if(bZ){ed.style.width="1000px"}else{ed.setAttribute("wrap","off")}if(dj){ed.style.border="1px solid black"}ed.setAttribute("autocorrect","off");ed.setAttribute("autocapitalize","off");ed.setAttribute("spellcheck","false");ef.inputDiv=d2("div",[ed],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");ef.scrollbarH=d2("div",[d2("div",null,null,"height: 1px")],"CodeMirror-hscrollbar");ef.scrollbarV=d2("div",[d2("div",null,null,"width: 1px")],"CodeMirror-vscrollbar");ef.scrollbarFiller=d2("div",null,"CodeMirror-scrollbar-filler");ef.gutterFiller=d2("div",null,"CodeMirror-gutter-filler");ef.lineDiv=d2("div",null,"CodeMirror-code");ef.selectionDiv=d2("div",null,null,"position: relative; z-index: 1");ef.cursor=d2("div","\u00a0","CodeMirror-cursor");ef.otherCursor=d2("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor");ef.measure=d2("div",null,"CodeMirror-measure");ef.lineSpace=d2("div",[ef.measure,ef.selectionDiv,ef.lineDiv,ef.cursor,ef.otherCursor],null,"position: relative; outline: none");ef.mover=d2("div",[d2("div",[ef.lineSpace],"CodeMirror-lines")],null,"position: relative");ef.sizer=d2("div",[ef.mover],"CodeMirror-sizer");ef.heightForcer=d2("div",null,null,"position: absolute; height: "+aI+"px; width: 1px;");ef.gutters=d2("div",null,"CodeMirror-gutters");ef.lineGutter=null;ef.scroller=d2("div",[ef.sizer,ef.heightForcer,ef.gutters],"CodeMirror-scroll");ef.scroller.setAttribute("tabIndex","-1");ef.wrapper=d2("div",[ef.inputDiv,ef.scrollbarH,ef.scrollbarV,ef.scrollbarFiller,ef.gutterFiller,ef.scroller],"CodeMirror");if(bw){ef.gutters.style.zIndex=-1;ef.scroller.style.paddingRight=0}if(ec.appendChild){ec.appendChild(ef.wrapper)}else{ec(ef.wrapper)}if(dj){ed.style.width="0px"}if(!bZ){ef.scroller.draggable=true}if(aB){ef.inputDiv.style.height="1px";ef.inputDiv.style.position="absolute"}else{if(bw){ef.scrollbarH.style.minWidth=ef.scrollbarV.style.minWidth="18px"}}ef.viewOffset=ef.lastSizeC=0;ef.showingFrom=ef.showingTo=ee;ef.lineNumWidth=ef.lineNumInnerWidth=ef.lineNumChars=null;ef.prevInput="";ef.alignWidgets=false;ef.pollingFast=false;ef.poll=new eb();ef.cachedCharWidth=ef.cachedTextHeight=null;ef.measureLineCache=[];ef.measureLineCachePos=0;ef.inaccurateSelection=false;ef.maxLine=null;ef.maxLineLength=0;ef.maxLineChanged=false;ef.wheelDX=ef.wheelDY=ef.wheelStartX=ef.wheelStartY=null;return ef}function aR(ec){ec.doc.mode=z.getMode(ec.options,ec.doc.modeOption);ec.doc.iter(function(ed){if(ed.stateAfter){ed.stateAfter=null}if(ed.styles){ed.styles=null}});ec.doc.frontier=ec.doc.first;cK(ec,100);ec.state.modeGen++;if(ec.curOp){O(ec)}}function c8(ec){if(ec.options.lineWrapping){ec.display.wrapper.className+=" CodeMirror-wrap";ec.display.sizer.style.minWidth=""}else{ec.display.wrapper.className=ec.display.wrapper.className.replace(" CodeMirror-wrap","");d4(ec)}J(ec);O(ec);R(ec);setTimeout(function(){dh(ec)},100)}function aD(ec){var ee=at(ec.display),ed=ec.options.lineWrapping;var ef=ed&&Math.max(5,ec.display.scroller.clientWidth/co(ec.display)-3);return function(eg){if(dI(ec.doc,eg)){return 0}else{if(ed){return(Math.ceil(eg.text.length/ef)||1)*ee}else{return ee}}}}function J(ec){var ee=ec.doc,ed=aD(ec);ee.iter(function(ef){var eg=ed(ef);if(eg!=ef.height){d5(ef,eg)}})}function ea(ec){var ee=dq[ec.options.keyMap],ed=ee.style;ec.display.wrapper.className=ec.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(ed?" cm-keymap-"+ed:"");ec.state.disableInput=ee.disableInput}function bT(ec){ec.display.wrapper.className=ec.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+ec.options.theme.replace(/(^|\s)\s*/g," cm-s-");R(ec)}function cj(ec){cH(ec);O(ec);setTimeout(function(){c4(ec)},20)}function cH(ec){var ed=ec.display.gutters,eh=ec.options.gutters;cA(ed);for(var ee=0;ee<eh.length;++ee){var ef=eh[ee];var eg=ed.appendChild(d2("div",null,"CodeMirror-gutter "+ef));if(ef=="CodeMirror-linenumbers"){ec.display.lineGutter=eg;eg.style.width=(ec.display.lineNumWidth||1)+"px"}}ed.style.display=ee?"":"none"}function cP(eg,ee){if(ee.height==0){return 0}var ed=ee.text.length,ec,eh=ee;while(ec=db(eh)){var ef=ec.find();eh=dt(eg,ef.from.line);ed+=ef.from.ch-ef.to.ch}eh=ee;while(ec=cU(eh)){var ef=ec.find();ed-=eh.text.length-ef.from.ch;eh=dt(eg,ef.to.line);ed+=eh.text.length-ef.to.ch}return ed}function d4(ec){var ee=ec.display,ed=ec.doc;ee.maxLine=dt(ed,ed.first);ee.maxLineLength=cP(ed,ee.maxLine);ee.maxLineChanged=true;ed.iter(function(eg){var ef=cP(ed,eg);if(ef>ee.maxLineLength){ee.maxLineLength=ef;ee.maxLine=eg}})}function bq(ec){var ee=false;for(var ed=0;ed<ec.gutters.length;++ed){if(ec.gutters[ed]=="CodeMirror-linenumbers"){if(ec.lineNumbers){ee=true}else{ec.gutters.splice(ed--,1)}}}if(!ee&&ec.lineNumbers){ec.gutters.push("CodeMirror-linenumbers")}}function dh(ec){var ei=ec.display,ed=ec.doc.height;var ef=ed+a2(ei);ei.sizer.style.minHeight=ei.heightForcer.style.top=ef+"px";ei.gutters.style.height=Math.max(ef,ei.scroller.clientHeight-aI)+"px";var eg=Math.max(ef,ei.scroller.scrollHeight);var eh=ei.scroller.scrollWidth>(ei.scroller.clientWidth+1);var ee=eg>(ei.scroller.clientHeight+1);if(ee){ei.scrollbarV.style.display="block";ei.scrollbarV.style.bottom=eh?i(ei.measure)+"px":"0";ei.scrollbarV.firstChild.style.height=(eg-ei.scroller.clientHeight+ei.scrollbarV.clientHeight)+"px"}else{ei.scrollbarV.style.display=""}if(eh){ei.scrollbarH.style.display="block";ei.scrollbarH.style.right=ee?i(ei.measure)+"px":"0";ei.scrollbarH.firstChild.style.width=(ei.scroller.scrollWidth-ei.scroller.clientWidth+ei.scrollbarH.clientWidth)+"px"}else{ei.scrollbarH.style.display=""}if(eh&&ee){ei.scrollbarFiller.style.display="block";ei.scrollbarFiller.style.height=ei.scrollbarFiller.style.width=i(ei.measure)+"px"}else{ei.scrollbarFiller.style.display=""}if(eh&&ec.options.coverGutterNextToScrollbar&&ec.options.fixedGutter){ei.gutterFiller.style.display="block";ei.gutterFiller.style.height=i(ei.measure)+"px";ei.gutterFiller.style.width=ei.gutters.offsetWidth+"px"}else{ei.gutterFiller.style.display=""}if(bK&&i(ei.measure)===0){ei.scrollbarV.style.minWidth=ei.scrollbarH.style.minHeight=b4?"18px":"12px"}}function bh(eh,eg,ef){var ee=eh.scroller.scrollTop,ec=eh.wrapper.clientHeight;if(typeof ef=="number"){ee=ef}else{if(ef){ee=ef.top;ec=ef.bottom-ef.top}}ee=Math.floor(ee-dn(eh));var ed=Math.ceil(ee+ec);return{from:a0(eg,ee),to:a0(eg,ed)}}function c4(ec){var ei=ec.display;if(!ei.alignWidgets&&(!ei.gutters.firstChild||!ec.options.fixedGutter)){return}var ef=cz(ei)-ei.scroller.scrollLeft+ec.doc.scrollLeft;var eh=ei.gutters.offsetWidth,ee=ef+"px";for(var ej=ei.lineDiv.firstChild;ej;ej=ej.nextSibling){if(ej.alignable){for(var eg=0,ed=ej.alignable;eg<ed.length;++eg){ed[eg].style.left=ee}}}if(ec.options.fixedGutter){ei.gutters.style.left=(ef+eh)+"px"}}function cC(ec){if(!ec.options.lineNumbers){return false}var eh=ec.doc,ed=cS(ec.options,eh.first+eh.size-1),eg=ec.display;if(ed.length!=eg.lineNumChars){var ei=eg.measure.appendChild(d2("div",[d2("div",ed)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var ee=ei.firstChild.offsetWidth,ef=ei.offsetWidth-ee;eg.lineGutter.style.width="";eg.lineNumInnerWidth=Math.max(ee,eg.lineGutter.offsetWidth-ef);eg.lineNumWidth=eg.lineNumInnerWidth+ef;eg.lineNumChars=eg.lineNumInnerWidth?ed.length:-1;eg.lineGutter.style.width=eg.lineNumWidth+"px";return true}return false}function cS(ec,ed){return String(ec.lineNumberFormatter(ed+ec.firstLineNumber))}function cz(ec){return al(ec.scroller).left-al(ec.sizer).left}function cr(ec,ef,eg){var ee=ec.display.showingFrom,ei=ec.display.showingTo,ed;var eh=bh(ec.display,ec.doc,eg);for(;;){if(!ca(ec,ef,eh)){break}ed=true;aX(ec);dh(ec);if(eg){eg=Math.min(ec.display.scroller.scrollHeight-ec.display.scroller.clientHeight,typeof eg=="number"?eg:eg.top)}eh=bh(ec.display,ec.doc,eg);if(eh.from>=ec.display.showingFrom&&eh.to<=ec.display.showingTo){break}ef=[]}if(ed){M(ec,"update",ec);if(ec.display.showingFrom!=ee||ec.display.showingTo!=ei){M(ec,"viewportChange",ec,ec.display.showingFrom,ec.display.showingTo)}}return ed}function ca(eh,eA,ed){var et=eh.display,eB=eh.doc;if(!et.wrapper.clientWidth){et.showingFrom=et.showingTo=eB.first;et.viewOffset=0;return}if(eA.length==0&&ed.from>et.showingFrom&&ed.to<et.showingTo){return}if(cC(eh)){eA=[{from:eB.first,to:eB.first+eB.size}]}var ey=et.sizer.style.marginLeft=et.gutters.offsetWidth+"px";et.scrollbarH.style.left=eh.options.fixedGutter?ey:"0";var ee=Infinity;if(eh.options.lineNumbers){for(var eu=0;eu<eA.length;++eu){if(eA[eu].diff){ee=eA[eu].from;break}}}var ef=eB.first+eB.size;var es=Math.max(ed.from-eh.options.viewportMargin,eB.first);var ec=Math.min(ef,ed.to+eh.options.viewportMargin);if(et.showingFrom<es&&es-et.showingFrom<20){es=Math.max(eB.first,et.showingFrom)}if(et.showingTo>ec&&et.showingTo-ec<20){ec=Math.min(ef,et.showingTo)}if(ay){es=a6(t(eB,dt(eB,es)));while(ec<ef&&dI(eB,dt(eB,ec))){++ec}}var ew=[{from:Math.max(et.showingFrom,eB.first),to:Math.min(et.showingTo,ef)}];if(ew[0].from>=ew[0].to){ew=[]}else{ew=dC(ew,eA)}if(ay){for(var eu=0;eu<ew.length;++eu){var em=ew[eu],ex;while(ex=cU(dt(eB,em.to-1))){var ez=ex.find().from.line;if(ez>em.from){em.to=ez}else{ew.splice(eu--,1);break}}}}var ep=0;for(var eu=0;eu<ew.length;++eu){var em=ew[eu];if(em.from<es){em.from=es}if(em.to>ec){em.to=ec}if(em.from>=em.to){ew.splice(eu--,1)}else{ep+=em.to-em.from}}if(ep==ec-es&&es==et.showingFrom&&ec==et.showingTo){h(eh);return}ew.sort(function(eD,eC){return eD.from-eC.from});try{var ei=document.activeElement}catch(ev){}if(ep<(ec-es)*0.7){et.lineDiv.style.display="none"}bx(eh,es,ec,ew,ee);et.lineDiv.style.display="";if(ei&&document.activeElement!=ei&&ei.offsetHeight){ei.focus()}var en=es!=et.showingFrom||ec!=et.showingTo||et.lastSizeC!=et.wrapper.clientHeight;if(en){et.lastSizeC=et.wrapper.clientHeight;cK(eh,400)}et.showingFrom=es;et.showingTo=ec;var eg=et.lineDiv.offsetTop;for(var er=et.lineDiv.firstChild,eo;er;er=er.nextSibling){if(er.lineObj){if(bw){var el=er.offsetTop+er.offsetHeight;eo=el-eg;eg=el}else{var ej=al(er);eo=ej.bottom-ej.top}var ek=er.lineObj.height-eo;if(eo<2){eo=at(et)}if(ek>0.001||ek<-0.001){d5(er.lineObj,eo);var eq=er.lineObj.widgets;if(eq){for(var eu=0;eu<eq.length;++eu){eq[eu].height=eq[eu].node.offsetHeight}}}}}h(eh);return true}function h(ec){var ed=ec.display.viewOffset=a5(ec,dt(ec.doc,ec.display.showingFrom));ec.display.mover.style.top=ed+"px"}function dC(el,ej){for(var eg=0,ee=ej.length||0;eg<ee;++eg){var ei=ej[eg],ec=[],ek=ei.diff||0;for(var ef=0,ed=el.length;ef<ed;++ef){var eh=el[ef];if(ei.to<=eh.from&&ei.diff){ec.push({from:eh.from+ek,to:eh.to+ek})}else{if(ei.to<=eh.from||ei.from>=eh.to){ec.push(eh)}else{if(ei.from>eh.from){ec.push({from:eh.from,to:ei.from})}if(ei.to<eh.to){ec.push({from:ei.to+ek,to:eh.to+ek})}}}}el=ec}return el}function dr(ec){var eg=ec.display,ef={},ee={};for(var eh=eg.gutters.firstChild,ed=0;eh;eh=eh.nextSibling,++ed){ef[ec.options.gutters[ed]]=eh.offsetLeft;ee[ec.options.gutters[ed]]=eh.offsetWidth}return{fixedPos:cz(eg),gutterTotalWidth:eg.gutters.offsetWidth,gutterLeft:ef,gutterWidth:ee,wrapperWidth:eg.wrapper.clientWidth}}function bx(el,ei,ej,eo,ed){var ek=dr(el);var eh=el.display,en=el.options.lineNumbers;if(!eo.length&&(!bZ||!el.display.currentWheelTarget)){cA(eh.lineDiv)}var ec=eh.lineDiv,em=ec.firstChild;function eg(eq){var ep=eq.nextSibling;if(bZ&&bi&&el.display.currentWheelTarget==eq){eq.style.display="none";eq.lineObj=null}else{eq.parentNode.removeChild(eq)}return ep}var ee=eo.shift(),ef=ei;el.doc.iter(ei,ej,function(ey){if(ee&&ee.to==ef){ee=eo.shift()}if(dI(el.doc,ey)){if(ey.height!=0){d5(ey,0)}if(ey.widgets&&em.previousSibling){for(var et=0;et<ey.widgets.length;++et){var ev=ey.widgets[et];if(ev.showIfHidden){var er=em.previousSibling;if(/pre/i.test(er.nodeName)){var eq=d2("div",null,null,"position: relative");er.parentNode.replaceChild(eq,er);eq.appendChild(er);er=eq}var ew=er.appendChild(d2("div",[ev.node],"CodeMirror-linewidget"));if(!ev.handleMouseEvents){ew.ignoreEvents=true}aZ(ev,ew,er,ek)}}}}else{if(ee&&ee.from<=ef&&ee.to>ef){while(em.lineObj!=ey){em=eg(em)}if(en&&ed<=ef&&em.lineNumber){n(em.lineNumber,cS(el.options,ef))}em=em.nextSibling}else{if(ey.widgets){for(var es=0,ex=em,eu;ex&&es<20;++es,ex=ex.nextSibling){if(ex.lineObj==ey&&/div/i.test(ex.nodeName)){eu=ex;break}}}var ep=ag(el,ey,ef,ek,eu);if(ep!=eu){ec.insertBefore(ep,em)}else{while(em!=eu){em=eg(em)}em=em.nextSibling}ep.lineObj=ey}}++ef});while(em){em=eg(em)}}function ag(ei,ek,el,eo,ed){var eu=cu(ei,ek);var ex=ek.gutterMarkers,ev=ei.display,ej;if(!ei.options.lineNumbers&&!ex&&!ek.bgClass&&!ek.wrapClass&&!ek.widgets){return eu}if(ed){ed.alignable=null;var ey=true,ef=0,ee=null;for(var eq=ed.firstChild,ep;eq;eq=ep){ep=eq.nextSibling;if(!/\bCodeMirror-linewidget\b/.test(eq.className)){ed.removeChild(eq)}else{for(var ew=0,eh=true;ew<ek.widgets.length;++ew){var eg=ek.widgets[ew];if(!eg.above){ee=eq;eh=false}if(eg.node==eq.firstChild){aZ(eg,eq,ed,eo);++ef;break}}if(ew==ek.widgets.length){ey=false;break}}}ed.insertBefore(eu,ee);if(ey&&ef==ek.widgets.length){ej=ed;ed.className=ek.wrapClass||""}}if(!ej){ej=d2("div",null,ek.wrapClass,"position: relative");ej.appendChild(eu)}if(ek.bgClass){ej.insertBefore(d2("div",null,ek.bgClass+" CodeMirror-linebackground"),ej.firstChild)}if(ei.options.lineNumbers||ex){var es=ej.insertBefore(d2("div",null,null,"position: absolute; left: "+(ei.options.fixedGutter?eo.fixedPos:-eo.gutterTotalWidth)+"px"),ej.firstChild);if(ei.options.fixedGutter){(ej.alignable||(ej.alignable=[])).push(es)}if(ei.options.lineNumbers&&(!ex||!ex["CodeMirror-linenumbers"])){ej.lineNumber=es.appendChild(d2("div",cS(ei.options,el),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+eo.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+ev.lineNumInnerWidth+"px"))}if(ex){for(var et=0;et<ei.options.gutters.length;++et){var en=ei.options.gutters[et],em=ex.hasOwnProperty(en)&&ex[en];if(em){es.appendChild(d2("div",[em],"CodeMirror-gutter-elt","left: "+eo.gutterLeft[en]+"px; width: "+eo.gutterWidth[en]+"px"))}}}}if(bw){ej.style.zIndex=2}if(ek.widgets&&ej!=ed){for(var ew=0,ec=ek.widgets;ew<ec.length;++ew){var eg=ec[ew],er=d2("div",[eg.node],"CodeMirror-linewidget");if(!eg.handleMouseEvents){er.ignoreEvents=true}aZ(eg,er,ej,eo);if(eg.above){ej.insertBefore(er,ei.options.lineNumbers&&ek.height!=0?es:eu)}else{ej.appendChild(er)}M(eg,"redraw")}}return ej}function aZ(ef,ee,ed,eg){if(ef.noHScroll){(ed.alignable||(ed.alignable=[])).push(ee);var ec=eg.wrapperWidth;ee.style.left=eg.fixedPos+"px";if(!ef.coverGutter){ec-=eg.gutterTotalWidth;ee.style.paddingLeft=eg.gutterTotalWidth+"px"}ee.style.width=ec+"px"}if(ef.coverGutter){ee.style.zIndex=5;ee.style.position="relative";if(!ef.noHScroll){ee.style.marginLeft=-eg.gutterTotalWidth+"px"}}}function aX(ec){var ef=ec.display;var eg=dR(ec.doc.sel.from,ec.doc.sel.to);if(eg||ec.options.showCursorWhenSelecting){A(ec)}else{ef.cursor.style.display=ef.otherCursor.style.display="none"}if(!eg){T(ec)}else{ef.selectionDiv.style.display="none"}if(ec.options.moveInputWithCursor){var eh=cx(ec,ec.doc.sel.head,"div");var ed=al(ef.wrapper),ee=al(ef.lineDiv);ef.inputDiv.style.top=Math.max(0,Math.min(ef.wrapper.clientHeight-10,eh.top+ee.top-ed.top))+"px";ef.inputDiv.style.left=Math.max(0,Math.min(ef.wrapper.clientWidth-10,eh.left+ee.left-ed.left))+"px"}}function A(ec){var ed=ec.display,ee=cx(ec,ec.doc.sel.head,"div");ed.cursor.style.left=ee.left+"px";ed.cursor.style.top=ee.top+"px";ed.cursor.style.height=Math.max(0,ee.bottom-ee.top)*ec.options.cursorHeight+"px";ed.cursor.style.display="";if(ee.other){ed.otherCursor.style.display="";ed.otherCursor.style.left=ee.other.left+"px";ed.otherCursor.style.top=ee.other.top+"px";ed.otherCursor.style.height=(ee.other.bottom-ee.other.top)*0.85+"px"}else{ed.otherCursor.style.display="none"}}function T(en){var ei=en.display,em=en.doc,ec=en.doc.sel;var eg=document.createDocumentFragment();var el=ei.lineSpace.offsetWidth,ee=ar(en.display);function ep(et,es,er,eq){if(es<0){es=0}eg.appendChild(d2("div",null,"CodeMirror-selected","position: absolute; left: "+et+"px; top: "+es+"px; width: "+(er==null?el-et:er)+"px; height: "+(eq-es)+"px"))}function ek(er,et,ew){var es=dt(em,er);var eu=es.text.length;var ex,eq;function ev(ez,ey){return bQ(en,I(er,ez),"div",es,ey)}cB(a(es),et||0,ew==null?eu:ew,function(eF,eE,ey){var eB=ev(eF,"left"),eC,eD,eA;if(eF==eE){eC=eB;eD=eA=eB.left}else{eC=ev(eE-1,"right");if(ey=="rtl"){var ez=eB;eB=eC;eC=ez}eD=eB.left;eA=eC.right}if(et==null&&eF==0){eD=ee}if(eC.top-eB.top>3){ep(eD,eB.top,null,eB.bottom);eD=ee;if(eB.bottom<eC.top){ep(eD,eB.bottom,null,eC.top)}}if(ew==null&&eE==eu){eA=el}if(!ex||eB.top<ex.top||eB.top==ex.top&&eB.left<ex.left){ex=eB}if(!eq||eC.bottom>eq.bottom||eC.bottom==eq.bottom&&eC.right>eq.right){eq=eC}if(eD<ee+1){eD=ee}ep(eD,eC.top,eA-eD,eC.bottom)});return{start:ex,end:eq}}if(ec.from.line==ec.to.line){ek(ec.from.line,ec.from.ch,ec.to.ch)}else{var ef=dt(em,ec.from.line),ed=dt(em,ec.to.line);var eh=t(em,ef)==t(em,ed);var eo=ek(ec.from.line,ec.from.ch,eh?ef.text.length:null).end;var ej=ek(ec.to.line,eh?0:null,ec.to.ch).start;if(eh){if(eo.top<ej.top-2){ep(eo.right,eo.top,null,eo.bottom);ep(ee,ej.top,ej.left,ej.bottom)}else{ep(eo.right,eo.top,ej.left-eo.right,eo.bottom)}}if(eo.bottom<ej.top){ep(ee,eo.bottom,null,ej.top)}}ba(ei.selectionDiv,eg);ei.selectionDiv.style.display=""}function l(ec){if(!ec.state.focused){return}var ee=ec.display;clearInterval(ee.blinker);var ed=true;ee.cursor.style.visibility=ee.otherCursor.style.visibility="";ee.blinker=setInterval(function(){ee.cursor.style.visibility=ee.otherCursor.style.visibility=(ed=!ed)?"":"hidden"},ec.options.cursorBlinkRate)}function cK(ec,ed){if(ec.doc.mode.startState&&ec.doc.frontier<ec.display.showingTo){ec.state.highlight.set(ed,bF(bU,ec))}}function bU(ec){var ef=ec.doc;if(ef.frontier<ef.first){ef.frontier=ef.first}if(ef.frontier>=ec.display.showingTo){return}var ed=+new Date+ec.options.workTime;var ee=bg(ef.mode,cm(ec,ef.frontier));var eh=[],eg;ef.iter(ef.frontier,Math.min(ef.first+ef.size,ec.display.showingTo+500),function(ei){if(ef.frontier>=ec.display.showingFrom){var ek=ei.styles;ei.styles=dN(ec,ei,ee);var el=!ek||ek.length!=ei.styles.length;for(var ej=0;!el&&ej<ek.length;++ej){el=ek[ej]!=ei.styles[ej]}if(el){if(eg&&eg.end==ef.frontier){eg.end++}else{eh.push(eg={start:ef.frontier,end:ef.frontier+1})}}ei.stateAfter=bg(ef.mode,ee)}else{ck(ec,ei,ee);ei.stateAfter=ef.frontier%5==0?bg(ef.mode,ee):null}++ef.frontier;if(+new Date>ed){cK(ec,ec.options.workDelay);return true}});if(eh.length){b0(ec,function(){for(var ei=0;ei<eh.length;++ei){O(this,eh[ei].start,eh[ei].end)}})()}}function bH(eh,ec){var ed,ef,eg=eh.doc;for(var ej=ec,ee=ec-100;ej>ee;--ej){if(ej<=eg.first){return eg.first}var ek=dt(eg,ej-1);if(ek.stateAfter){return ej}var ei=a9(ek.text,null,eh.options.tabSize);if(ef==null||ed>ei){ef=ej-1;ed=ei}}return ef}function cm(ec,eh){var ef=ec.doc,ee=ec.display;if(!ef.mode.startState){return true}var eg=bH(ec,eh),ed=eg>ef.first&&dt(ef,eg-1).stateAfter;if(!ed){ed=bf(ef.mode)}else{ed=bg(ef.mode,ed)}ef.iter(eg,eh,function(ei){ck(ec,ei,ed);var ej=eg==eh-1||eg%5==0||eg>=ee.showingFrom&&eg<ee.showingTo;ei.stateAfter=ej?bg(ef.mode,ed):null;++eg});return ed}function dn(ec){return ec.lineSpace.offsetTop}function a2(ec){return ec.mover.offsetHeight-ec.lineSpace.offsetHeight}function ar(ed){var ec=ba(ed.measure,d2("pre",null,null,"text-align: left")).appendChild(d2("span","x"));return ec.offsetLeft}function cM(ej,ek,ed,ef,eh){var ee=-1;ef=ef||a3(ej,ek);for(var ei=ed;;ei+=ee){var ec=ef[ei];if(ec){break}if(ee<0&&ei==0){ee=1}}var eg=(ei<ed||eh=="right")&&ec.topRight!=null;return{left:ei<ed?ec.right:ec.left,right:ei>ed?ec.left:ec.right,top:eg?ec.topRight:ec.top,bottom:eg?ec.bottomRight:ec.bottom}}function dm(ec,ed){var ef=ec.display.measureLineCache;for(var eg=0;eg<ef.length;++eg){var ee=ef[eg];if(ee.text==ed.text&&ee.markedSpans==ed.markedSpans&&ec.display.scroller.clientWidth==ee.width&&ee.classes==ed.textClass+"|"+ed.bgClass+"|"+ed.wrapClass){return ee}}}function dV(ec,ed){var ee=dm(ec,ed);if(ee){ee.text=ee.measure=ee.markedSpans=null}}function a3(ec,ed){var eh=dm(ec,ed);if(eh){return eh.measure}var eg=b9(ec,ed);var ef=ec.display.measureLineCache;var ee={text:ed.text,width:ec.display.scroller.clientWidth,markedSpans:ed.markedSpans,measure:eg,classes:ed.textClass+"|"+ed.bgClass+"|"+ed.wrapClass};if(ef.length==16){ef[++ec.display.measureLineCachePos%16]=ee}else{ef.push(ee)}return eg}function b9(em,eo){var ew=em.display,ei=S(eo.text.length);var et=cu(em,eo,ei);if(cq&&!bw&&!em.options.lineWrapping&&et.childNodes.length>100){var ef=document.createDocumentFragment();var eq=10,eu=et.childNodes.length;for(var ey=0,er=Math.ceil(eu/eq);ey<er;++ey){var en=d2("div",null,null,"display: inline-block");for(var ex=0;ex<eq&&eu;++ex){en.appendChild(et.firstChild);--eu}ef.appendChild(en)}et.appendChild(ef)}ba(ew.measure,et);var ee=al(ew.lineDiv);var ed=[],eD=S(eo.text.length),eB=et.offsetHeight;if(bv&&ew.measure.first!=et){ba(ew.measure,et)}function ep(eG,eI){if(eI>eB){eI=eB}if(eG<0){eG=0}for(var eE=0;eE<ed.length;eE+=2){var eF=ed[eE],eH=ed[eE+1];if(eF>eI||eH<eG){continue}if(eF<=eG&&eH>=eI||eG<=eF&&eI>=eH||Math.min(eI,eH)-Math.max(eG,eF)>=(eI-eG)>>1){ed[eE]=Math.min(eG,eF);ed[eE+1]=Math.max(eI,eH);return eE}}ed.push(eG,eI);return eE}for(var ey=0,eh;ey<ei.length;++ey){if(eh=ei[ey]){var es;if(/\bCodeMirror-widget\b/.test(eh.className)&&eh.getClientRects){var ek=eh.getClientRects(),ez=ek[0],eg=ek[ek.length-1];if(ek.length==1){es=ez}else{var eC=ep(ez.top-ee.top,ez.bottom-ee.top);var el=ep(eg.top-ee.top,eg.bottom-ee.top);eD[ey]={left:ez.left-ee.left,right:eg.right-ee.left,top:eC,topRight:el};continue}}else{es=al(eh)}var ej=ep(es.top-ee.top,es.bottom-ee.top);var eA=es.right;if(eh.measureRight){eA=al(eh.measureRight).left}eD[ey]={left:es.left-ee.left,right:eA-ee.left,top:ej}}}for(var ey=0,eh;ey<eD.length;++ey){if(eh=eD[ey]){var ev=eh.top,ec=eh.topRight;eh.top=ed[ev];eh.bottom=ed[ev+1];if(ec!=null){eh.topRight=ed[ec];eh.bottomRight=ed[ec+1]}}}return eD}function c5(ec,ee){var ej=false;if(ee.markedSpans){for(var ef=0;ef<ee.markedSpans;++ef){var eh=ee.markedSpans[ef];if(eh.collapsed&&(eh.to==null||eh.to==ee.text.length)){ej=true}}}var eg=!ej&&dm(ec,ee);if(eg){return cM(ec,ee,ee.text.length,eg.measure,"right").right}var ei=cu(ec,ee);var ed=ei.appendChild(aO(ec.display.measure));ba(ec.display.measure,ei);return al(ed).right-al(ec.display.lineDiv).left}function R(ec){ec.display.measureLineCache.length=ec.display.measureLineCachePos=0;ec.display.cachedCharWidth=ec.display.cachedTextHeight=null;if(!ec.options.lineWrapping){ec.display.maxLineChanged=true}ec.display.lineNumChars=null}function bE(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function bD(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function dc(ei,ef,eh,ed){if(ef.widgets){for(var ee=0;ee<ef.widgets.length;++ee){if(ef.widgets[ee].above){var ek=bX(ef.widgets[ee]);eh.top+=ek;eh.bottom+=ek}}}if(ed=="line"){return eh}if(!ed){ed="local"}var eg=a5(ei,ef);if(ed=="local"){eg+=dn(ei.display)}else{eg-=ei.display.viewOffset}if(ed=="page"||ed=="window"){var ec=al(ei.display.lineSpace);eg+=ec.top+(ed=="window"?0:bD());var ej=ec.left+(ed=="window"?0:bE());eh.left+=ej;eh.right+=ej}eh.top+=eg;eh.bottom+=eg;return eh}function d9(ed,eg,ee){if(ee=="div"){return eg}var ei=eg.left,eh=eg.top;if(ee=="page"){ei-=bE();eh-=bD()}else{if(ee=="local"||!ee){var ef=al(ed.display.sizer);ei+=ef.left;eh+=ef.top}}var ec=al(ed.display.lineSpace);return{left:ei-ec.left,top:eh-ec.top}}function bQ(ec,eg,ef,ee,ed){if(!ee){ee=dt(ec.doc,eg.line)}return dc(ec,ee,cM(ec,ee,eg.ch,null,ed),ef)}function cx(el,ek,ee,ej,eh){ej=ej||dt(el.doc,ek.line);if(!eh){eh=a3(el,ej)}function eg(ep,eo){var en=cM(el,ej,ep,eh,eo?"right":"left");if(eo){en.left=en.right}else{en.right=en.left}return dc(el,ej,en,ee)}function em(eq,en){var eo=ei[en],ep=eo.level%2;if(eq==cl(eo)&&en&&eo.level<ei[en-1].level){eo=ei[--en];eq=d8(eo)-(eo.level%2?0:1);ep=true}else{if(eq==d8(eo)&&en<ei.length-1&&eo.level<ei[en+1].level){eo=ei[++en];eq=cl(eo)-eo.level%2;ep=false}}if(ep&&eq==eo.to&&eq>eo.from){return eg(eq-1)}return eg(eq,ep)}var ei=a(ej),ec=ek.ch;if(!ei){return eg(ec)}var ed=ah(ei,ec);var ef=em(ec,ed);if(dk!=null){ef.other=em(ec,dk)}return ef}function d1(ec,ed,ee,ef){var eg=new I(ec,ed);if(ee){eg.outside=true}if(ef){eg.after=true}return eg}function dW(ej,eg,ef){var ei=ej.doc;ef+=ej.display.viewOffset;if(ef<0){return d1(ei.first,0,true)}var ed=a0(ei,ef),ek=ei.first+ei.size-1;if(ed>ek){return d1(ei.first+ei.size-1,dt(ei,ek).text.length,true,true)}if(eg<0){eg=0}for(;;){var ee=dt(ei,ed);var el=bY(ej,ee,ed,eg,ef);var eh=cU(ee);var ec=eh&&eh.find();if(eh&&(el.ch>ec.from.ch||el.ch==ec.from.ch&&el.after)){ed=ec.to.line}else{return el}}}function bY(en,ee,eq,ep,eo){var em=eo-a5(en,ee);var ej=false,ew=2*en.display.wrapper.clientWidth;var ev=a3(en,ee);function ez(eB){var eC=cx(en,I(eq,eB),"line",ee,ev);ej=true;if(em>eC.bottom){return eC.left-ew}else{if(em<eC.top){return eC.left+ew}else{ej=false}}return eC.left}var es=a(ee),eu=ee.text.length;var ex=bL(ee),ef=bV(ee);var et=ez(ex),ec=ej,ed=ez(ef),ei=ej;if(ep>ed){return d1(eq,ef,ei,true)}for(;;){if(es?ef==ex||ef==q(ee,ex,1):ef-ex<=1){var eh=ep-et<=ed-ep,er=eh?ex:ef;while(dE.test(ee.text.charAt(er))){++er}var el=d1(eq,er,eh?ec:ei,eh);return el}var ek=Math.ceil(eu/2),eA=ex+ek;if(es){eA=ex;for(var ey=0;ey<ek;++ey){eA=q(ee,eA,1)}}var eg=ez(eA);if(eg>ep){ef=eA;ed=eg;if(ei=ej){ed+=1000}eu=ek}else{ex=eA;et=eg;ec=ej;eu-=ek}}}var ai;function at(ee){if(ee.cachedTextHeight!=null){return ee.cachedTextHeight}if(ai==null){ai=d2("pre");for(var ed=0;ed<49;++ed){ai.appendChild(document.createTextNode("x"));ai.appendChild(d2("br"))}ai.appendChild(document.createTextNode("x"))}ba(ee.measure,ai);var ec=ai.offsetHeight/50;if(ec>3){ee.cachedTextHeight=ec}cA(ee.measure);return ec||1}function co(ef){if(ef.cachedCharWidth!=null){return ef.cachedCharWidth}var ec=d2("span","x");var ee=d2("pre",[ec]);ba(ef.measure,ee);var ed=ec.offsetWidth;if(ed>2){ef.cachedCharWidth=ed}return ed||10}var cE=0;function bP(ec){ec.curOp={changes:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:false,cursorActivity:false,updateMaxLine:false,updateScrollPos:false,id:++cE};if(!bC++){aN=[]}}function U(eo){var ej=eo.curOp,en=eo.doc,ek=eo.display;eo.curOp=null;if(ej.updateMaxLine){d4(eo)}if(ek.maxLineChanged&&!eo.options.lineWrapping&&ek.maxLine){var ed=c5(eo,ek.maxLine);ek.sizer.style.minWidth=Math.max(0,ed+3+aI)+"px";ek.maxLineChanged=false;var el=Math.max(0,ek.sizer.offsetLeft+ek.sizer.offsetWidth-ek.scroller.clientWidth);if(el<en.scrollLeft&&!ej.updateScrollPos){aY(eo,Math.min(ek.scroller.scrollLeft,el),true)}}var ee,eh;if(ej.updateScrollPos){ee=ej.updateScrollPos}else{if(ej.selectionChanged&&ek.scroller.clientHeight){var em=cx(eo,en.sel.head);ee=y(eo,em.left,em.top,em.left,em.bottom)}}if(ej.changes.length||ee&&ee.scrollTop!=null){eh=cr(eo,ej.changes,ee&&ee.scrollTop);if(eo.display.scroller.offsetHeight){eo.doc.scrollTop=eo.display.scroller.scrollTop}}if(!eh&&ej.selectionChanged){aX(eo)}if(ej.updateScrollPos){ek.scroller.scrollTop=ek.scrollbarV.scrollTop=en.scrollTop=ee.scrollTop;ek.scroller.scrollLeft=ek.scrollbarH.scrollLeft=en.scrollLeft=ee.scrollLeft;c4(eo);if(ej.scrollToPos){v(eo,dS(eo.doc,ej.scrollToPos),ej.scrollToPosMargin)}}else{if(ee){ac(eo)}}if(ej.selectionChanged){l(eo)}if(eo.state.focused&&ej.updateInput){dD(eo,ej.userSelChange)}var ei=ej.maybeHiddenMarkers,ec=ej.maybeUnhiddenMarkers;if(ei){for(var eg=0;eg<ei.length;++eg){if(!ei[eg].lines.length){af(ei[eg],"hide")}}}if(ec){for(var eg=0;eg<ec.length;++eg){if(ec[eg].lines.length){af(ec[eg],"unhide")}}}var ef;if(!--bC){ef=aN;aN=null}if(ej.textChanged){af(eo,"change",eo,ej.textChanged)}if(ej.cursorActivity){af(eo,"cursorActivity",eo)}if(ef){for(var eg=0;eg<ef.length;++eg){ef[eg]()}}}function b0(ec,ed){return function(){var ef=ec||this,eg=!ef.curOp;if(eg){bP(ef)}try{var ee=ed.apply(ef,arguments)}finally{if(eg){U(ef)}}return ee}}function dM(ec){return function(){var ee=this.cm&&!this.cm.curOp,ed;if(ee){bP(this.cm)}try{ed=ec.apply(this,arguments)}finally{if(ee){U(this.cm)}}return ed}}function bS(ed,ef){var ee=!ed.curOp,ec;if(ee){bP(ed)}try{ec=ef()}finally{if(ee){U(ed)}}return ec}function O(ec,ef,ee,ed){if(ef==null){ef=ec.doc.first}if(ee==null){ee=ec.doc.first+ec.doc.size}ec.curOp.changes.push({from:ef,to:ee,diff:ed})}function aM(ec){if(ec.display.pollingFast){return}ec.display.poll.set(ec.options.pollInterval,function(){bs(ec);if(ec.state.focused){aM(ec)}})}function u(ec){var ed=false;ec.display.pollingFast=true;function ee(){var ef=bs(ec);if(!ef&&!ed){ed=true;ec.display.poll.set(60,ee)}else{ec.display.pollingFast=false;aM(ec)}}ec.display.poll.set(20,ee)}function bs(en){var ei=en.display.input,ef=en.display.prevInput,em=en.doc,ec=em.sel;if(!en.state.focused||aS(ei)||Q(en)||en.state.disableInput){return false}var eo=ei.value;if(eo==ef&&dR(ec.from,ec.to)){return false}if(cq&&!bv&&en.display.inputHasSelection===eo){dD(en,true);return false}var ee=!en.curOp;if(ee){bP(en)}ec.shift=false;var eh=0,ed=Math.min(ef.length,eo.length);while(eh<ed&&ef.charCodeAt(eh)==eo.charCodeAt(eh)){++eh}var el=ec.from,ek=ec.to;if(eh<ef.length){el=I(el.line,el.ch-(ef.length-eh))}else{if(en.state.overwrite&&dR(el,ek)&&!en.state.pasteIncoming){ek=I(ek.line,Math.min(dt(em,ek.line).text.length,ek.ch+(eo.length-eh)))}}var eg=en.curOp.updateInput;var ej={from:el,to:ek,text:av(eo.slice(eh)),origin:en.state.pasteIncoming?"paste":"+input"};aF(en.doc,ej,"end");en.curOp.updateInput=eg;M(en,"inputRead",en,ej);if(eo.length>1000||eo.indexOf("\n")>-1){ei.value=en.display.prevInput=""}else{en.display.prevInput=eo}if(ee){U(en)}en.state.pasteIncoming=false;return true}function dD(ec,ee){var ed,ef,eh=ec.doc;if(!dR(eh.sel.from,eh.sel.to)){ec.display.prevInput="";ed=b6&&(eh.sel.to.line-eh.sel.from.line>100||(ef=ec.getSelection()).length>1000);var eg=ed?"-":ef||ec.getSelection();ec.display.input.value=eg;if(ec.state.focused){cs(ec.display.input)}if(cq&&!bv){ec.display.inputHasSelection=eg}}else{if(ee){ec.display.prevInput=ec.display.input.value="";if(cq&&!bv){ec.display.inputHasSelection=null}}}ec.display.inaccurateSelection=ed}function c0(ec){if(ec.options.readOnly!="nocursor"&&(!cL||document.activeElement!=ec.display.input)){ec.display.input.focus()}}function Q(ec){return ec.options.readOnly||ec.doc.cantEdit}function dX(ed){var ei=ed.display;bd(ei.scroller,"mousedown",b0(ed,cT));if(cq){bd(ei.scroller,"dblclick",b0(ed,function(el){var em=by(ed,el);if(!em||k(ed,el)||aA(ed.display,el)){return}bM(el);var ek=Z(dt(ed.doc,em.line).text,em);dZ(ed.doc,ek.from,ek.to)}))}else{bd(ei.scroller,"dblclick",bM)}bd(ei.lineSpace,"selectstart",function(ek){if(!aA(ei,ek)){bM(ek)}});if(!bO){bd(ei.scroller,"contextmenu",function(ek){ab(ed,ek)})}bd(ei.scroller,"scroll",function(){if(ei.scroller.clientHeight){D(ed,ei.scroller.scrollTop);aY(ed,ei.scroller.scrollLeft,true);af(ed,"scroll",ed)}});bd(ei.scrollbarV,"scroll",function(){if(ei.scroller.clientHeight){D(ed,ei.scrollbarV.scrollTop)}});bd(ei.scrollbarH,"scroll",function(){if(ei.scroller.clientHeight){aY(ed,ei.scrollbarH.scrollLeft)}});bd(ei.scroller,"mousewheel",function(ek){b(ed,ek)});bd(ei.scroller,"DOMMouseScroll",function(ek){b(ed,ek)});function ej(){if(ed.state.focused){setTimeout(bF(c0,ed),0)}}bd(ei.scrollbarH,"mousedown",ej);bd(ei.scrollbarV,"mousedown",ej);bd(ei.wrapper,"scroll",function(){ei.wrapper.scrollTop=ei.wrapper.scrollLeft=0});var ec;function eg(){if(ec==null){ec=setTimeout(function(){ec=null;ei.cachedCharWidth=ei.cachedTextHeight=cV=null;R(ed);bS(ed,bF(O,ed))},100)}}bd(window,"resize",eg);function ef(){for(var ek=ei.wrapper.parentNode;ek&&ek!=document.body;ek=ek.parentNode){}if(ek){setTimeout(ef,5000)}else{cJ(window,"resize",eg)}}setTimeout(ef,5000);bd(ei.input,"keyup",b0(ed,function(ek){if(ed.options.onKeyEvent&&ed.options.onKeyEvent(ed,W(ek))){return}if(ek.keyCode==16){ed.doc.sel.shift=false}}));bd(ei.input,"input",bF(u,ed));bd(ei.input,"keydown",b0(ed,m));bd(ei.input,"keypress",b0(ed,bG));bd(ei.input,"focus",bF(bJ,ed));bd(ei.input,"blur",bF(aq,ed));function ee(ek){if(ed.options.onDragEvent&&ed.options.onDragEvent(ed,W(ek))){return}cR(ek)}if(ed.options.dragDrop){bd(ei.scroller,"dragstart",function(ek){G(ed,ek)});bd(ei.scroller,"dragenter",ee);bd(ei.scroller,"dragover",ee);bd(ei.scroller,"drop",b0(ed,aH))}bd(ei.scroller,"paste",function(ek){if(aA(ei,ek)){return}c0(ed);u(ed)});bd(ei.input,"paste",function(){ed.state.pasteIncoming=true;u(ed)});function eh(){if(ei.inaccurateSelection){ei.prevInput="";ei.inaccurateSelection=false;ei.input.value=ed.getSelection();cs(ei.input)}}bd(ei.input,"cut",eh);bd(ei.input,"copy",eh);if(aB){bd(ei.sizer,"mouseup",function(){if(document.activeElement==ei.input){ei.input.blur()}c0(ed)})}}function aA(ed,ec){for(var ee=B(ec);ee!=ed.wrapper;ee=ee.parentNode){if(!ee||ee.ignoreEvents||ee.parentNode==ed.sizer&&ee!=ed.mover){return true}}}function by(ed,ei,ef){var eh=ed.display;if(!ef){var eg=B(ei);if(eg==eh.scrollbarH||eg==eh.scrollbarH.firstChild||eg==eh.scrollbarV||eg==eh.scrollbarV.firstChild||eg==eh.scrollbarFiller||eg==eh.gutterFiller){return null}}var ec,ej,ee=al(eh.lineSpace);try{ec=ei.clientX;ej=ei.clientY}catch(ei){return null}return dW(ed,ec-ee.left,ej-ee.top)}var cd,b8;function cT(eu){var ef=this,ep=ef.display,ew=ef.doc,en=ew.sel;en.shift=eu.shiftKey;if(aA(ep,eu)){if(!bZ){ep.scroller.draggable=false;setTimeout(function(){ep.scroller.draggable=true},100)}return}if(k(ef,eu)){return}var ee=by(ef,eu);switch(dU(eu)){case 3:if(bO){ab.call(ef,ef,eu)}return;case 2:if(ee){dZ(ef.doc,ee)}setTimeout(bF(c0,ef),20);bM(eu);return}if(!ee){if(B(eu)==ep.scroller){bM(eu)}return}if(!ef.state.focused){bJ(ef)}var ec=+new Date,ed="single";if(b8&&b8.time>ec-400&&dR(b8.pos,ee)){ed="triple";bM(eu);setTimeout(bF(c0,ef),20);aK(ef,ee.line)}else{if(cd&&cd.time>ec-400&&dR(cd.pos,ee)){ed="double";b8={time:ec,pos:ee};bM(eu);var er=Z(dt(ew,ee.line).text,ee);dZ(ef.doc,er.from,er.to)}else{cd={time:ec,pos:ee}}}var eg=ee;if(ef.options.dragDrop&&da&&!Q(ef)&&!dR(en.from,en.to)&&!du(ee,en.from)&&!du(en.to,ee)&&ed=="single"){var eq=b0(ef,function(ex){if(bZ){ep.scroller.draggable=false}ef.state.draggingText=false;cJ(document,"mouseup",eq);cJ(ep.scroller,"drop",eq);if(Math.abs(eu.clientX-ex.clientX)+Math.abs(eu.clientY-ex.clientY)<10){bM(ex);dZ(ef.doc,ee);c0(ef)}});if(bZ){ep.scroller.draggable=true}ef.state.draggingText=eq;if(ep.scroller.dragDrop){ep.scroller.dragDrop()}bd(document,"mouseup",eq);bd(ep.scroller,"drop",eq);return}bM(eu);if(ed=="single"){dZ(ef.doc,dS(ew,ee))}var ev=en.from,ek=en.to,eo=ee;function es(ey){if(dR(eo,ey)){return}eo=ey;if(ed=="single"){dZ(ef.doc,dS(ew,ee),ey);return}ev=dS(ew,ev);ek=dS(ew,ek);if(ed=="double"){var ex=Z(dt(ew,ey.line).text,ey);if(du(ey,ev)){dZ(ef.doc,ex.from,ek)}else{dZ(ef.doc,ev,ex.to)}}else{if(ed=="triple"){if(du(ey,ev)){dZ(ef.doc,ek,dS(ew,I(ey.line,0)))}else{dZ(ef.doc,ev,dS(ew,I(ey.line+1,0)))}}}}var el=al(ep.wrapper);var eh=0;function et(ez){var ex=++eh;var eB=by(ef,ez,true);if(!eB){return}if(!dR(eB,eg)){if(!ef.state.focused){bJ(ef)}eg=eB;es(eB);var eA=bh(ep,ew);if(eB.line>=eA.to||eB.line<eA.from){setTimeout(b0(ef,function(){if(eh==ex){et(ez)}}),150)}}else{var ey=ez.clientY<el.top?-20:ez.clientY>el.bottom?20:0;if(ey){setTimeout(b0(ef,function(){if(eh!=ex){return}ep.scroller.scrollTop+=ey;et(ez)}),50)}}}function ej(ex){eh=Infinity;bM(ex);c0(ef);cJ(document,"mousemove",em);cJ(document,"mouseup",ei)}var em=b0(ef,function(ex){if(!cq&&!dU(ex)){ej(ex)}else{et(ex)}});var ei=b0(ef,ej);bd(document,"mousemove",em);bd(document,"mouseup",ei)}function k(ek,ei){var ej=ek.display;try{var ed=ei.clientX,ec=ei.clientY}catch(ei){return false}if(ed>=Math.floor(al(ej.gutters).right)){return false}bM(ei);if(!dz(ek,"gutterClick")){return true}var eh=al(ej.lineDiv);if(ec>eh.bottom){return true}ec-=eh.top-ej.viewOffset;for(var ef=0;ef<ek.options.gutters.length;++ef){var eg=ej.gutters.childNodes[ef];if(eg&&al(eg).right>=ed){var el=a0(ek.doc,ec);var ee=ek.options.gutters[ef];M(ek,"gutterClick",ek,el,ee,ei);break}}return true}var N=0;function aH(ei){var ek=this;if(aA(ek.display,ei)||(ek.options.onDragEvent&&ek.options.onDragEvent(ek,W(ei)))){return}bM(ei);if(cq){N=+new Date}var ej=by(ek,ei,true),ec=ei.dataTransfer.files;if(!ej||Q(ek)){return}if(ec&&ec.length&&window.FileReader&&window.File){var ee=ec.length,em=Array(ee),ed=0;var ef=function(ep,eo){var en=new FileReader;en.onload=function(){em[eo]=en.result;if(++ed==ee){ej=dS(ek.doc,ej);aF(ek.doc,{from:ej,to:ej,text:av(em.join("\n")),origin:"paste"},"around")}};en.readAsText(ep)};for(var eg=0;eg<ee;++eg){ef(ec[eg],eg)}}else{if(ek.state.draggingText&&!(du(ej,ek.doc.sel.from)||du(ek.doc.sel.to,ej))){ek.state.draggingText(ei);setTimeout(bF(c0,ek),20);return}try{var em=ei.dataTransfer.getData("Text");if(em){var el=ek.doc.sel.from,eh=ek.doc.sel.to;bb(ek.doc,ej,ej);if(ek.state.draggingText){aw(ek.doc,"",el,eh,"paste")}ek.replaceSelection(em,null,"paste");c0(ek);bJ(ek)}}catch(ei){}}}function G(ed,ef){if(cq&&(!ed.state.draggingText||+new Date-N<100)){cR(ef);return}if(aA(ed.display,ef)){return}var ec=ed.getSelection();ef.dataTransfer.setData("Text",ec);if(ef.dataTransfer.setDragImage&&!ae){var ee=d2("img",null,null,"position: fixed; left: 0; top: 0;");if(dK){ee.width=ee.height=1;ed.display.wrapper.appendChild(ee);ee._top=ee.offsetTop}ef.dataTransfer.setDragImage(ee,0,0);if(dK){ee.parentNode.removeChild(ee)}}}function D(ec,ed){if(Math.abs(ec.doc.scrollTop-ed)<2){return}ec.doc.scrollTop=ed;if(!bz){cr(ec,[],ed)}if(ec.display.scroller.scrollTop!=ed){ec.display.scroller.scrollTop=ed}if(ec.display.scrollbarV.scrollTop!=ed){ec.display.scrollbarV.scrollTop=ed}if(bz){cr(ec,[])}cK(ec,100)}function aY(ec,ee,ed){if(ed?ee==ec.doc.scrollLeft:Math.abs(ec.doc.scrollLeft-ee)<2){return}ee=Math.min(ee,ec.display.scroller.scrollWidth-ec.display.scroller.clientWidth);ec.doc.scrollLeft=ee;c4(ec);if(ec.display.scroller.scrollLeft!=ee){ec.display.scroller.scrollLeft=ee}if(ec.display.scrollbarH.scrollLeft!=ee){ec.display.scrollbarH.scrollLeft=ee}}var dA=0,br=null;if(cq){br=-0.53}else{if(bz){br=15}else{if(b7){br=-0.7}else{if(ae){br=-1/3}}}}function b(ei,ed){var el=ed.wheelDeltaX,ek=ed.wheelDeltaY;if(el==null&&ed.detail&&ed.axis==ed.HORIZONTAL_AXIS){el=ed.detail}if(ek==null&&ed.detail&&ed.axis==ed.VERTICAL_AXIS){ek=ed.detail}else{if(ek==null){ek=ed.wheelDelta}}var ef=ei.display,eh=ef.scroller;if(!(el&&eh.scrollWidth>eh.clientWidth||ek&&eh.scrollHeight>eh.clientHeight)){return}if(ek&&bi&&bZ){for(var ej=ed.target;ej!=eh;ej=ej.parentNode){if(ej.lineObj){ei.display.currentWheelTarget=ej;break}}}if(el&&!bz&&!dK&&br!=null){if(ek){D(ei,Math.max(0,Math.min(eh.scrollTop+ek*br,eh.scrollHeight-eh.clientHeight)))}aY(ei,Math.max(0,Math.min(eh.scrollLeft+el*br,eh.scrollWidth-eh.clientWidth)));bM(ed);ef.wheelStartX=null;return}if(ek&&br!=null){var ec=ek*br;var eg=ei.doc.scrollTop,ee=eg+ef.wrapper.clientHeight;if(ec<0){eg=Math.max(0,eg+ec-50)}else{ee=Math.min(ei.doc.height,ee+ec+50)}cr(ei,[],{top:eg,bottom:ee})}if(dA<20){if(ef.wheelStartX==null){ef.wheelStartX=eh.scrollLeft;ef.wheelStartY=eh.scrollTop;ef.wheelDX=el;ef.wheelDY=ek;setTimeout(function(){if(ef.wheelStartX==null){return}var em=eh.scrollLeft-ef.wheelStartX;var eo=eh.scrollTop-ef.wheelStartY;var en=(eo&&ef.wheelDY&&eo/ef.wheelDY)||(em&&ef.wheelDX&&em/ef.wheelDX);ef.wheelStartX=ef.wheelStartY=null;if(!en){return}br=(br*dA+en)/(dA+1);++dA},200)}else{ef.wheelDX+=el;ef.wheelDY+=ek}}}function dY(ed,eg,ec){if(typeof eg=="string"){eg=c2[eg];if(!eg){return false}}if(ed.display.pollingFast&&bs(ed)){ed.display.pollingFast=false}var eh=ed.doc,ef=eh.sel.shift,ee=false;try{if(Q(ed)){ed.state.suppressEdits=true}if(ec){eh.sel.shift=false}ee=eg(ed)!=bn}finally{eh.sel.shift=ef;ed.state.suppressEdits=false}return ee}function ch(ec){var ed=ec.state.keyMaps.slice(0);if(ec.options.extraKeys){ed.push(ec.options.extraKeys)}ed.push(ec.options.keyMap);return ed}var X;function dx(ec,ei){var ed=d0(ec.options.keyMap),eg=ed.auto;clearTimeout(X);if(eg&&!c1(ei)){X=setTimeout(function(){if(d0(ec.options.keyMap)==ed){ec.options.keyMap=(eg.call?eg.call(null,ec):eg);ea(ec)}},50)}var ef=dF(ei,true),eh=false;if(!ef){return false}var ee=ch(ec);if(ei.shiftKey){eh=g("Shift-"+ef,ee,function(ej){return dY(ec,ej,true)})||g(ef,ee,function(ej){if(typeof ej=="string"?/^go[A-Z]/.test(ej):ej.motion){return dY(ec,ej)}})}else{eh=g(ef,ee,function(ej){return dY(ec,ej)})}if(eh){bM(ei);l(ec);if(bv){ei.oldKeyCode=ei.keyCode;ei.keyCode=0}M(ec,"keyHandled",ec,ef,ei)}return eh}function cN(ec,ef,ed){var ee=g("'"+ed+"'",ch(ec),function(eg){return dY(ec,eg,true)});if(ee){bM(ef);l(ec);M(ec,"keyHandled",ec,"'"+ed+"'",ef)}return ee}var cc=null;function m(ef){var ec=this;if(!ec.state.focused){bJ(ec)}if(cq&&ef.keyCode==27){ef.returnValue=false}if(ec.options.onKeyEvent&&ec.options.onKeyEvent(ec,W(ef))){return}var ed=ef.keyCode;ec.doc.sel.shift=ed==16||ef.shiftKey;var ee=dx(ec,ef);if(dK){cc=ee?ed:null;if(!ee&&ed==88&&!b6&&(bi?ef.metaKey:ef.ctrlKey)){ec.replaceSelection("")}}}function bG(eg){var ec=this;if(ec.options.onKeyEvent&&ec.options.onKeyEvent(ec,W(eg))){return}var ef=eg.keyCode,ed=eg.charCode;if(dK&&ef==cc){cc=null;bM(eg);return}if(((dK&&(!eg.which||eg.which<10))||aB)&&dx(ec,eg)){return}var ee=String.fromCharCode(ed==null?ef:ed);if(this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!Q(this)&&this.doc.mode.electricChars.indexOf(ee)>-1){setTimeout(b0(ec,function(){L(ec,ec.doc.sel.to.line,"smart")}),75)}if(cN(ec,eg,ee)){return}if(cq&&!bv){ec.display.inputHasSelection=null}u(ec)}function bJ(ec){if(ec.options.readOnly=="nocursor"){return}if(!ec.state.focused){af(ec,"focus",ec);ec.state.focused=true;if(ec.display.wrapper.className.search(/\bCodeMirror-focused\b/)==-1){ec.display.wrapper.className+=" CodeMirror-focused"}dD(ec,true)}aM(ec);l(ec)}function aq(ec){if(ec.state.focused){af(ec,"blur",ec);ec.state.focused=false;ec.display.wrapper.className=ec.display.wrapper.className.replace(" CodeMirror-focused","")}clearInterval(ec.display.blinker);setTimeout(function(){if(!ec.state.focused){ec.doc.sel.shift=false}},150)}var dO;function ab(el,eg){var ei=el.display,ed=el.doc.sel;if(aA(ei,eg)){return}var ek=by(el,eg),ec=ei.scroller.scrollTop;if(!ek||dK){return}if(dR(ed.from,ed.to)||du(ek,ed.from)||!du(ek,ed.to)){b0(el,bb)(el.doc,ek,ek)}var eh=ei.input.style.cssText;ei.inputDiv.style.position="absolute";ei.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(eg.clientY-5)+"px; left: "+(eg.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);";c0(el);dD(el,true);if(dR(ed.from,ed.to)){ei.input.value=ei.prevInput=" "}function ef(){if(ei.input.selectionStart!=null){var em=ei.input.value=" "+(dR(ed.from,ed.to)?"":ei.input.value);ei.prevInput=" ";ei.input.selectionStart=1;ei.input.selectionEnd=em.length}}function ej(){ei.inputDiv.style.position="relative";ei.input.style.cssText=eh;if(bv){ei.scrollbarV.scrollTop=ei.scroller.scrollTop=ec}aM(el);if(ei.input.selectionStart!=null){if(!cq||bv){ef()}clearTimeout(dO);var em=0,en=function(){if(ei.prevInput==" "&&ei.input.selectionStart==0){b0(el,c2.selectAll)(el)}else{if(em++<10){dO=setTimeout(en,500)}else{dD(el)}}};dO=setTimeout(en,200)}}if(cq&&!bv){ef()}if(bO){cR(eg);var ee=function(){cJ(window,"mouseup",ee);setTimeout(ej,20)};bd(window,"mouseup",ee)}else{setTimeout(ej,50)}}function bW(ec){if(!ec.text){return ec.to}return I(ec.from.line+ec.text.length-1,dQ(ec.text).length+(ec.text.length==1?ec.from.ch:0))}function c3(eg,ei,eh){if(!du(ei.from,eh)){return dS(eg,eh)}var ef=(ei.text.length-1)-(ei.to.line-ei.from.line);if(eh.line>ei.to.line+ef){var ee=eh.line-ef,ed=eg.first+eg.size-1;if(ee>ed){return I(ed,dt(eg,ed).text.length)}return dG(eh,dt(eg,ee).text.length)}if(eh.line==ei.to.line+ef){return dG(eh,dQ(ei.text).length+(ei.text.length==1?ei.from.ch:0)+dt(eg,ei.to.line).text.length-ei.to.ch)}var ec=eh.line-ei.from.line;return dG(eh,ei.text[ec].length+(ec?0:ei.from.ch))}function dy(ed,eg,ee){if(ee&&typeof ee=="object"){return{anchor:c3(ed,eg,ee.anchor),head:c3(ed,eg,ee.head)}}if(ee=="start"){return{anchor:eg.from,head:eg.from}}var ec=bW(eg);if(ee=="around"){return{anchor:eg.from,head:ec}}if(ee=="end"){return{anchor:ec,head:ec}}var ef=function(ej){if(du(ej,eg.from)){return ej}if(!du(eg.to,ej)){return ec}var eh=ej.line+eg.text.length-(eg.to.line-eg.from.line)-1,ei=ej.ch;if(ej.line==eg.to.line){ei+=ec.ch-eg.to.ch}return I(eh,ei)};return{anchor:ef(ed.sel.anchor),head:ef(ed.sel.head)}}function cw(ed,ef,ee){var ec={canceled:false,from:ef.from,to:ef.to,text:ef.text,origin:ef.origin,cancel:function(){this.canceled=true}};if(ee){ec.update=function(ej,ei,eh,eg){if(ej){this.from=dS(ed,ej)}if(ei){this.to=dS(ed,ei)}if(eh){this.text=eh}if(eg!==undefined){this.origin=eg}}}af(ed,"beforeChange",ed,ec);if(ed.cm){af(ed.cm,"beforeChange",ed.cm,ec)}if(ec.canceled){return null}return{from:ec.from,to:ec.to,text:ec.text,origin:ec.origin}}function aF(ef,eh,eg,ee){if(ef.cm){if(!ef.cm.curOp){return b0(ef.cm,aF)(ef,eh,eg,ee)}if(ef.cm.state.suppressEdits){return}}if(dz(ef,"beforeChange")||ef.cm&&dz(ef.cm,"beforeChange")){eh=cw(ef,eh,true);if(!eh){return}}var ed=d7&&!ee&&bN(ef,eh.from,eh.to);if(ed){for(var ec=ed.length-1;ec>=1;--ec){an(ef,{from:ed[ec].from,to:ed[ec].to,text:[""]})}if(ed.length){an(ef,{from:ed[0].from,to:ed[0].to,text:eh.text},eg)}}else{an(ef,eh,eg)}}function an(ee,eg,ef){var ed=dy(ee,eg,ef);c7(ee,eg,ed,ee.cm?ee.cm.curOp.id:NaN);cI(ee,eg,ed,cO(ee,eg));var ec=[];cD(ee,function(ei,eh){if(!eh&&cb(ec,ei.history)==-1){cp(ei.history,eg);ec.push(ei.history)}cI(ei,eg,null,cO(ei,eg))})}function bk(el,ei){if(el.cm&&el.cm.state.suppressEdits){return}var eh=el.history;var ed=(ei=="undo"?eh.done:eh.undone).pop();if(!ed){return}var ej={changes:[],anchorBefore:ed.anchorAfter,headBefore:ed.headAfter,anchorAfter:ed.anchorBefore,headAfter:ed.headBefore,generation:eh.generation};(ei=="undo"?eh.undone:eh.done).push(ej);eh.generation=ed.generation||++eh.maxGeneration;var ee=dz(el,"beforeChange")||el.cm&&dz(el.cm,"beforeChange");for(var ef=ed.changes.length-1;ef>=0;--ef){var ek=ed.changes[ef];ek.origin=ei;if(ee&&!cw(el,ek,false)){(ei=="undo"?eh.done:eh.undone).length=0;return}ej.changes.push(ci(el,ek));var ec=ef?dy(el,ek,null):{anchor:ed.anchorBefore,head:ed.headBefore};cI(el,ek,ec,cF(el,ek));var eg=[];cD(el,function(en,em){if(!em&&cb(eg,en.history)==-1){cp(en.history,ek);eg.push(en.history)}cI(en,ek,null,cF(en,ek))})}}function dB(ec,ee){function ed(ef){return I(ef.line+ee,ef.ch)}ec.first+=ee;if(ec.cm){O(ec.cm,ec.first,ec.first,ee)}ec.sel.head=ed(ec.sel.head);ec.sel.anchor=ed(ec.sel.anchor);ec.sel.from=ed(ec.sel.from);ec.sel.to=ed(ec.sel.to)}function cI(eg,eh,ef,ed){if(eg.cm&&!eg.cm.curOp){return b0(eg.cm,cI)(eg,eh,ef,ed)}if(eh.to.line<eg.first){dB(eg,eh.text.length-1-(eh.to.line-eh.from.line));return}if(eh.from.line>eg.lastLine()){return}if(eh.from.line<eg.first){var ec=eh.text.length-1-(eg.first-eh.from.line);dB(eg,ec);eh={from:I(eg.first,0),to:I(eh.to.line+ec,eh.to.ch),text:[dQ(eh.text)],origin:eh.origin}}var ee=eg.lastLine();if(eh.to.line>ee){eh={from:eh.from,to:I(ee,dt(eg,ee).text.length),text:[eh.text[0]],origin:eh.origin}}eh.removed=d3(eg,eh.from,eh.to);if(!ef){ef=dy(eg,eh,null)}if(eg.cm){aj(eg.cm,eh,ed,ef)}else{dL(eg,eh,ed,ef)}}function aj(em,ei,ef,ec){var el=em.doc,eh=em.display,ej=ei.from,ek=ei.to;var ed=false,ee=ej.line;if(!em.options.lineWrapping){ee=a6(t(el,dt(el,ej.line)));el.iter(ee,ek.line+1,function(ep){if(ep==eh.maxLine){ed=true;return true}})}if(!du(el.sel.head,ei.from)&&!du(ei.to,el.sel.head)){em.curOp.cursorActivity=true}dL(el,ei,ef,ec,aD(em));if(!em.options.lineWrapping){el.iter(ee,ej.line+ei.text.length,function(eq){var ep=cP(el,eq);if(ep>eh.maxLineLength){eh.maxLine=eq;eh.maxLineLength=ep;eh.maxLineChanged=true;ed=false}});if(ed){em.curOp.updateMaxLine=true}}el.frontier=Math.min(el.frontier,ej.line);cK(em,400);var eo=ei.text.length-(ek.line-ej.line)-1;O(em,ej.line,ek.line+1,eo);if(dz(em,"change")){var eg={from:ej,to:ek,text:ei.text,removed:ei.removed,origin:ei.origin};if(em.curOp.textChanged){for(var en=em.curOp.textChanged;en.next;en=en.next){}en.next=eg}else{em.curOp.textChanged=eg}}}function aw(ef,ee,eh,eg,ec){if(!eg){eg=eh}if(du(eg,eh)){var ed=eg;eg=eh;eh=ed}if(typeof ee=="string"){ee=av(ee)}aF(ef,{from:eh,to:eg,text:ee,origin:ec},null)}function I(ec,ed){if(!(this instanceof I)){return new I(ec,ed)}this.line=ec;this.ch=ed}z.Pos=I;function dR(ed,ec){return ed.line==ec.line&&ed.ch==ec.ch}function du(ed,ec){return ed.line<ec.line||(ed.line==ec.line&&ed.ch<ec.ch)}function bt(ec){return I(ec.line,ec.ch)}function b2(ec,ed){return Math.max(ec.first,Math.min(ed,ec.first+ec.size-1))}function dS(ed,ee){if(ee.line<ed.first){return I(ed.first,0)}var ec=ed.first+ed.size-1;if(ee.line>ec){return I(ec,dt(ed,ec).text.length)}return dG(ee,dt(ed,ee.line).text.length)}function dG(ee,ed){var ec=ee.ch;if(ec==null||ec>ed){return I(ee.line,ed)}else{if(ec<0){return I(ee.line,0)}else{return ee}}}function bl(ed,ec){return ec>=ed.first&&ec<ed.first+ed.size}function dZ(eg,eh,ec,ed){if(eg.sel.shift||eg.sel.extend){var ef=eg.sel.anchor;if(ec){var ee=du(eh,ef);if(ee!=du(ec,ef)){ef=eh;eh=ec}else{if(ee!=du(eh,ec)){eh=ec}}}bb(eg,ef,eh,ed)}else{bb(eg,eh,ec||eh,ed)}if(eg.cm){eg.cm.curOp.userSelChange=true}}function c(ef,ec,ed){var ee={anchor:ec,head:ed};af(ef,"beforeSelectionChange",ef,ee);if(ef.cm){af(ef.cm,"beforeSelectionChange",ef.cm,ee)}ee.anchor=dS(ef,ee.anchor);ee.head=dS(ef,ee.head);return ee}function bb(ej,eg,eh,ee,ed){if(!ed&&dz(ej,"beforeSelectionChange")||ej.cm&&dz(ej.cm,"beforeSelectionChange")){var ef=c(ej,eg,eh);eh=ef.head;eg=ef.anchor}var ei=ej.sel;ei.goalColumn=null;if(ed||!dR(eg,ei.anchor)){eg=bc(ej,eg,ee,ed!="push")}if(ed||!dR(eh,ei.head)){eh=bc(ej,eh,ee,ed!="push")}if(dR(ei.anchor,eg)&&dR(ei.head,eh)){return}ei.anchor=eg;ei.head=eh;var ec=du(eh,eg);ei.from=ec?eh:eg;ei.to=ec?eg:eh;if(ej.cm){ej.cm.curOp.updateInput=ej.cm.curOp.selectionChanged=ej.cm.curOp.cursorActivity=true}M(ej,"cursorActivity",ej)}function cW(ec){bb(ec.doc,ec.doc.sel.from,ec.doc.sel.to,null,"push")}function bc(el,ek,eh,ei){var em=false,ee=ek;var ef=eh||1;el.cantEdit=false;search:for(;;){var en=dt(el,ee.line);if(en.markedSpans){for(var eg=0;eg<en.markedSpans.length;++eg){var ec=en.markedSpans[eg],ed=ec.marker;if((ec.from==null||(ed.inclusiveLeft?ec.from<=ee.ch:ec.from<ee.ch))&&(ec.to==null||(ed.inclusiveRight?ec.to>=ee.ch:ec.to>ee.ch))){if(ei){af(ed,"beforeCursorEnter");if(ed.explicitlyCleared){if(!en.markedSpans){break}else{--eg;continue}}}if(!ed.atomic){continue}var ej=ed.find()[ef<0?"from":"to"];if(dR(ej,ee)){ej.ch+=ef;if(ej.ch<0){if(ej.line>el.first){ej=dS(el,I(ej.line-1))}else{ej=null}}else{if(ej.ch>en.text.length){if(ej.line<el.first+el.size-1){ej=I(ej.line+1,0)}else{ej=null}}}if(!ej){if(em){if(!ei){return bc(el,ek,eh,true)}el.cantEdit=true;return I(el.first,0)}em=true;ej=ek;ef=-ef}}ee=ej;continue search}}}return ee}}function ac(ed){var eg=v(ed,ed.doc.sel.head,ed.options.cursorScrollMargin);if(!ed.state.focused){return}var eh=ed.display,ee=al(eh.sizer),ec=null;if(eg.top+ee.top<0){ec=true}else{if(eg.bottom+ee.top>(window.innerHeight||document.documentElement.clientHeight)){ec=false}}if(ec!=null&&!dH){var ef=eh.cursor.style.display=="none";if(ef){eh.cursor.style.display="";eh.cursor.style.left=eg.left+"px";eh.cursor.style.top=(eg.top-eh.viewOffset)+"px"}eh.cursor.scrollIntoView(ec);if(ef){eh.cursor.style.display="none"}}}function v(ec,ej,eg){if(eg==null){eg=0}for(;;){var eh=false,ef=cx(ec,ej);var ei=y(ec,ef.left,ef.top-eg,ef.left,ef.bottom+eg);var ed=ec.doc.scrollTop,ee=ec.doc.scrollLeft;if(ei.scrollTop!=null){D(ec,ei.scrollTop);if(Math.abs(ec.doc.scrollTop-ed)>1){eh=true}}if(ei.scrollLeft!=null){aY(ec,ei.scrollLeft);if(Math.abs(ec.doc.scrollLeft-ee)>1){eh=true}}if(!eh){return ef}}}function x(ec,ee,eg,ed,ef){var eh=y(ec,ee,eg,ed,ef);if(eh.scrollTop!=null){D(ec,eh.scrollTop)}if(eh.scrollLeft!=null){aY(ec,eh.scrollLeft)}}function y(ei,eq,ef,ep,ee){var en=ei.display,em=at(ei.display);if(ef<0){ef=0}var ed=en.scroller.clientHeight-aI,el=en.scroller.scrollTop,ek={};var es=ei.doc.height+a2(en);var et=ef<em,eo=ee>es-em;if(ef<el){ek.scrollTop=et?0:ef}else{if(ee>el+ed){var ej=Math.min(ef,(eo?es:ee)-ed);if(ej!=el){ek.scrollTop=ej}}}var eh=en.scroller.clientWidth-aI,ec=en.scroller.scrollLeft;eq+=en.gutters.offsetWidth;ep+=en.gutters.offsetWidth;var eg=en.gutters.offsetWidth;var er=eq<eg+10;if(eq<ec+eg||er){if(er){eq=0}ek.scrollLeft=Math.max(0,eq-10-eg)}else{if(ep>eh+ec-3){ek.scrollLeft=ep+10-eh}}return ek}function w(ec,ee,ed){ec.curOp.updateScrollPos={scrollLeft:ee==null?ec.doc.scrollLeft:ee,scrollTop:ed==null?ec.doc.scrollTop:ed}}function bR(ed,ef,ee){var eg=ed.curOp.updateScrollPos||(ed.curOp.updateScrollPos={scrollLeft:ed.doc.scrollLeft,scrollTop:ed.doc.scrollTop});var ec=ed.display.scroller;eg.scrollTop=Math.max(0,Math.min(ec.scrollHeight-ec.clientHeight,eg.scrollTop+ee));eg.scrollLeft=Math.max(0,Math.min(ec.scrollWidth-ec.clientWidth,eg.scrollLeft+ef))}function L(eo,ef,en,ee){var em=eo.doc;if(en==null){en="add"}if(en=="smart"){if(!eo.doc.mode.indent){en="prev"}else{var ed=cm(eo,ef)}}var ei=eo.options.tabSize;var ep=dt(em,ef),eh=a9(ep.text,null,ei);var ec=ep.text.match(/^\s*/)[0],ek;if(en=="smart"){ek=eo.doc.mode.indent(ed,ep.text.slice(ec.length),ep.text);if(ek==bn){if(!ee){return}en="prev"}}if(en=="prev"){if(ef>em.first){ek=a9(dt(em,ef-1).text,null,ei)}else{ek=0}}else{if(en=="add"){ek=eh+eo.options.indentUnit}else{if(en=="subtract"){ek=eh-eo.options.indentUnit}else{if(typeof en=="number"){ek=eh+en}}}}ek=Math.max(0,ek);var el="",ej=0;if(eo.options.indentWithTabs){for(var eg=Math.floor(ek/ei);eg;--eg){ej+=ei;el+="\t"}}if(ej<ek){el+=bA(ek-ej)}if(el!=ec){aw(eo.doc,el,I(ef,0),I(ef,ec.length),"+input")}ep.stateAfter=null}function cY(ec,ee,eh){var eg=ee,ed=ee,ef=ec.doc;if(typeof ee=="number"){ed=dt(ef,b2(ef,ee))}else{eg=a6(ee)}if(eg==null){return null}if(eh(ed,eg)){O(ec,eg,eg+1)}else{return null}return ed}function aU(et,ef,en,em,eh){var ek=ef.line,el=ef.ch,es=en;var ec=dt(et,ek);var eq=true;function er(){var eu=ek+en;if(eu<et.first||eu>=et.first+et.size){return(eq=false)}ek=eu;return ec=dt(et,eu)}function ep(ev){var eu=(eh?q:P)(ec,el,en,true);if(eu==null){if(!ev&&er()){if(eh){el=(en<0?bV:bL)(ec)}else{el=en<0?ec.text.length:0}}else{return(eq=false)}}else{el=eu}return true}if(em=="char"){ep()}else{if(em=="column"){ep(true)}else{if(em=="word"||em=="group"){var eo=null,ei=em=="group";for(var eg=true;;eg=false){if(en<0&&!ep(!eg)){break}var ed=ec.text.charAt(el)||"\n";var ee=bI(ed)?"w":!ei?null:/\s/.test(ed)?null:"p";if(eo&&eo!=ee){if(en<0){en=1;ep()}break}if(ee){eo=ee}if(en>0&&!ep(!eg)){break}}}}}var ej=bc(et,I(ek,el),es,true);if(!eq){ej.hitSide=true}return ej}function aQ(ek,ef,ec,ej){var ei=ek.doc,eh=ef.left,eg;if(ej=="page"){var ee=Math.min(ek.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);eg=ef.top+ec*(ee-(ec<0?1.5:0.5)*at(ek.display))}else{if(ej=="line"){eg=ec>0?ef.bottom+3:ef.top-3}}for(;;){var ed=dW(ek,eh,eg);if(!ed.outside){break}if(ec<0?eg<=0:eg>=ei.height){ed.hitSide=true;break}eg+=ec*5}return ed}function Z(ef,eh){var eg=eh.ch,ee=eh.ch;if(ef){if(eh.after===false||ee==ef.length){--eg}else{++ee}var ed=ef.charAt(eg);var ec=bI(ed)?bI:/\s/.test(ed)?function(ei){return/\s/.test(ei)}:function(ei){return !/\s/.test(ei)&&!bI(ei)};while(eg>0&&ec(ef.charAt(eg-1))){--eg}while(ee<ef.length&&ec(ef.charAt(ee))){++ee}}return{from:I(eh.line,eg),to:I(eh.line,ee)}}function aK(ec,ed){dZ(ec.doc,I(ed,0),dS(ec.doc,I(ed+1,0)))}z.prototype={constructor:z,focus:function(){window.focus();c0(this);bJ(this);u(this)},setOption:function(ee,ef){var ed=this.options,ec=ed[ee];if(ed[ee]==ef&&ee!="mode"){return}ed[ee]=ef;if(aE.hasOwnProperty(ee)){b0(this,aE[ee])(this,ef,ec)}},getOption:function(ec){return this.options[ec]},getDoc:function(){return this.doc},addKeyMap:function(ed,ec){this.state.keyMaps[ec?"push":"unshift"](ed)},removeKeyMap:function(ed){var ee=this.state.keyMaps;for(var ec=0;ec<ee.length;++ec){if((typeof ed=="string"?ee[ec].name:ee[ec])==ed){ee.splice(ec,1);return true}}},addOverlay:b0(null,function(ec,ed){var ee=ec.token?ec:z.getMode(this.options,ec);if(ee.startState){throw new Error("Overlays may not be stateful.")}this.state.overlays.push({mode:ee,modeSpec:ec,opaque:ed&&ed.opaque});this.state.modeGen++;O(this)}),removeOverlay:b0(null,function(ec){var ee=this.state.overlays;for(var ed=0;ed<ee.length;++ed){var ef=ee[ed].modeSpec;if(ef==ec||typeof ec=="string"&&ef.name==ec){ee.splice(ed,1);this.state.modeGen++;O(this);return}}}),indentLine:b0(null,function(ee,ec,ed){if(typeof ec!="string"&&typeof ec!="number"){if(ec==null){ec=this.options.smartIndent?"smart":"prev"}else{ec=ec?"add":"subtract"}}if(bl(this.doc,ee)){L(this,ee,ec,ed)}}),indentSelection:b0(null,function(ed){var ee=this.doc.sel;if(dR(ee.from,ee.to)){return L(this,ee.from.line,ed)}var ef=ee.to.line-(ee.to.ch?0:1);for(var ec=ee.from.line;ec<=ef;++ec){L(this,ec,ed)}}),getTokenAt:function(ei){var ef=this.doc;ei=dS(ef,ei);var ee=cm(this,ei.line),eh=this.doc.mode;var ec=dt(ef,ei.line);var eg=new de(ec.text,this.options.tabSize);while(eg.pos<ei.ch&&!eg.eol()){eg.start=eg.pos;var ed=eh.token(eg,ee)}return{start:eg.start,end:eg.pos,string:eg.current(),className:ed||null,type:ed||null,state:ee}},getStateAfter:function(ec){var ed=this.doc;ec=b2(ed,ec==null?ed.first+ed.size-1:ec);return cm(this,ec+1)},cursorCoords:function(ef,ed){var ee,ec=this.doc.sel;if(ef==null){ee=ec.head}else{if(typeof ef=="object"){ee=dS(this.doc,ef)}else{ee=ef?ec.from:ec.to}}return cx(this,ee,ed||"page")},charCoords:function(ed,ec){return bQ(this,dS(this.doc,ed),ec||"page")},coordsChar:function(ec,ed){ec=d9(this,ec,ed||"page");return dW(this,ec.left,ec.top)},lineAtHeight:function(ec,ed){ec=d9(this,{top:ec,left:0},ed||"page").top;return a0(this.doc,ec+this.display.viewOffset)},defaultTextHeight:function(){return at(this.display)},defaultCharWidth:function(){return co(this.display)},setGutterMarker:b0(null,function(ec,ed,ee){return cY(this,ec,function(ef){var eg=ef.gutterMarkers||(ef.gutterMarkers={});eg[ed]=ee;if(!ee&&df(eg)){ef.gutterMarkers=null}return true})}),clearGutter:b0(null,function(ee){var ec=this,ef=ec.doc,ed=ef.first;ef.iter(function(eg){if(eg.gutterMarkers&&eg.gutterMarkers[ee]){eg.gutterMarkers[ee]=null;O(ec,ed,ed+1);if(df(eg.gutterMarkers)){eg.gutterMarkers=null}}++ed})}),addLineClass:b0(null,function(ee,ed,ec){return cY(this,ee,function(ef){var eg=ed=="text"?"textClass":ed=="background"?"bgClass":"wrapClass";if(!ef[eg]){ef[eg]=ec}else{if(new RegExp("\\b"+ec+"\\b").test(ef[eg])){return false}else{ef[eg]+=" "+ec}}return true})}),removeLineClass:b0(null,function(ee,ed,ec){return cY(this,ee,function(ef){var ei=ed=="text"?"textClass":ed=="background"?"bgClass":"wrapClass";var eh=ef[ei];if(!eh){return false}else{if(ec==null){ef[ei]=null}else{var eg=eh.replace(new RegExp("^"+ec+"\\b\\s*|\\s*\\b"+ec+"\\b"),"");if(eg==eh){return false}ef[ei]=eg||null}}return true})}),addLineWidget:b0(null,function(ee,ed,ec){return a1(this,ee,ed,ec)}),removeLineWidget:function(ec){ec.clear()},lineInfo:function(ec){if(typeof ec=="number"){if(!bl(this.doc,ec)){return null}var ed=ec;ec=dt(this.doc,ec);if(!ec){return null}}else{var ed=a6(ec);if(ed==null){return null}}return{line:ed,handle:ec,text:ec.text,gutterMarkers:ec.gutterMarkers,textClass:ec.textClass,bgClass:ec.bgClass,wrapClass:ec.wrapClass,widgets:ec.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(eh,ee,ej,ef,el){var eg=this.display;eh=cx(this,dS(this.doc,eh));var ei=eh.bottom,ed=eh.left;ee.style.position="absolute";eg.sizer.appendChild(ee);if(ef=="over"){ei=eh.top}else{if(ef=="above"||ef=="near"){var ec=Math.max(eg.wrapper.clientHeight,this.doc.height),ek=Math.max(eg.sizer.clientWidth,eg.lineSpace.clientWidth);if((ef=="above"||eh.bottom+ee.offsetHeight>ec)&&eh.top>ee.offsetHeight){ei=eh.top-ee.offsetHeight}else{if(eh.bottom+ee.offsetHeight<=ec){ei=eh.bottom}}if(ed+ee.offsetWidth>ek){ed=ek-ee.offsetWidth}}}ee.style.top=ei+"px";ee.style.left=ee.style.right="";if(el=="right"){ed=eg.sizer.clientWidth-ee.offsetWidth;ee.style.right="0px"}else{if(el=="left"){ed=0}else{if(el=="middle"){ed=(eg.sizer.clientWidth-ee.offsetWidth)/2}}ee.style.left=ed+"px"}if(ej){x(this,ed,ei,ed+ee.offsetWidth,ei+ee.offsetHeight)}},triggerOnKeyDown:b0(null,m),execCommand:function(ec){return c2[ec](this)},findPosH:function(ei,ef,eg,ed){var ec=1;if(ef<0){ec=-1;ef=-ef}for(var ee=0,eh=dS(this.doc,ei);ee<ef;++ee){eh=aU(this.doc,eh,ec,eg,ed);if(eh.hitSide){break}}return eh},moveH:b0(null,function(ec,ed){var ee=this.doc.sel,ef;if(ee.shift||ee.extend||dR(ee.from,ee.to)){ef=aU(this.doc,ee.head,ec,ed,this.options.rtlMoveVisually)}else{ef=ec<0?ee.from:ee.to}dZ(this.doc,ef,ef,ec)}),deleteH:b0(null,function(ec,ed){var ee=this.doc.sel;if(!dR(ee.from,ee.to)){aw(this.doc,"",ee.from,ee.to,"+delete")}else{aw(this.doc,"",ee.from,aU(this.doc,ee.head,ec,ed,false),"+delete")}this.curOp.userSelChange=true}),findPosV:function(eh,ee,ei,ek){var ec=1,eg=ek;if(ee<0){ec=-1;ee=-ee}for(var ed=0,ej=dS(this.doc,eh);ed<ee;++ed){var ef=cx(this,ej,"div");if(eg==null){eg=ef.left}else{ef.left=eg}ej=aQ(this,ef,ec,ei);if(ej.hitSide){break}}return ej},moveV:b0(null,function(ec,ed){var ee=this.doc.sel;var eg=cx(this,ee.head,"div");if(ee.goalColumn!=null){eg.left=ee.goalColumn}var ef=aQ(this,eg,ec,ed);if(ed=="page"){bR(this,0,bQ(this,ef,"div").top-eg.top)}dZ(this.doc,ef,ef,ec);ee.goalColumn=eg.left}),toggleOverwrite:function(ec){if(ec!=null&&ec==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){this.display.cursor.className+=" CodeMirror-overwrite"}else{this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")}},hasFocus:function(){return this.state.focused},scrollTo:b0(null,function(ec,ed){w(this,ec,ed)}),getScrollInfo:function(){var ec=this.display.scroller,ed=aI;return{left:ec.scrollLeft,top:ec.scrollTop,height:ec.scrollHeight-ed,width:ec.scrollWidth-ed,clientHeight:ec.clientHeight-ed,clientWidth:ec.clientWidth-ed}},scrollIntoView:b0(null,function(ef,ee){if(typeof ef=="number"){ef=I(ef,0)}if(!ee){ee=0}var ed=ef;if(!ef||ef.line!=null){this.curOp.scrollToPos=ef?dS(this.doc,ef):this.doc.sel.head;this.curOp.scrollToPosMargin=ee;ed=cx(this,this.curOp.scrollToPos)}var ec=y(this,ed.left,ed.top-ee,ed.right,ed.bottom+ee);w(this,ec.scrollLeft,ec.scrollTop)}),setSize:function(ee,ec){function ed(ef){return typeof ef=="number"||/^\d+$/.test(String(ef))?ef+"px":ef}if(ee!=null){this.display.wrapper.style.width=ed(ee)}if(ec!=null){this.display.wrapper.style.height=ed(ec)}this.refresh()},on:function(ec,ed){bd(this,ec,ed)},off:function(ec,ed){cJ(this,ec,ed)},operation:function(ec){return bS(this,ec)},refresh:b0(null,function(){R(this);w(this,this.doc.scrollLeft,this.doc.scrollTop);O(this)}),swapDoc:b0(null,function(ed){var ec=this.doc;ec.cm=null;cG(this,ed);R(this);dD(this,true);w(this,ed.scrollLeft,ed.scrollTop);return ec}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var aE=z.optionHandlers={};var dl=z.defaults={};function o(ec,ef,ee,ed){z.defaults[ec]=ef;if(ee){aE[ec]=ed?function(eg,ei,eh){if(eh!=bo){ee(eg,ei,eh)}}:ee}}var bo=z.Init={toString:function(){return"CodeMirror.Init"}};o("value","",function(ec,ed){ec.setValue(ed)},true);o("mode",null,function(ec,ed){ec.doc.modeOption=ed;aR(ec)},true);o("indentUnit",2,aR,true);o("indentWithTabs",false);o("smartIndent",true);o("tabSize",4,function(ec){aR(ec);R(ec);O(ec)},true);o("electricChars",true);o("rtlMoveVisually",!am);o("theme","default",function(ec){bT(ec);cj(ec)},true);o("keyMap","default",ea);o("extraKeys",null);o("onKeyEvent",null);o("onDragEvent",null);o("lineWrapping",false,c8,true);o("gutters",[],function(ec){bq(ec.options);cj(ec)},true);o("fixedGutter",true,function(ec,ed){ec.display.gutters.style.left=ed?cz(ec.display)+"px":"0";ec.refresh()},true);o("coverGutterNextToScrollbar",false,dh,true);o("lineNumbers",false,function(ec){bq(ec.options);cj(ec)},true);o("firstLineNumber",1,cj,true);o("lineNumberFormatter",function(ec){return ec},cj,true);o("showCursorWhenSelecting",false,aX,true);o("readOnly",false,function(ec,ed){if(ed=="nocursor"){aq(ec);ec.display.input.blur()}else{if(!ed){dD(ec,true)}}});o("dragDrop",true);o("cursorBlinkRate",530);o("cursorScrollMargin",0);o("cursorHeight",1);o("workTime",100);o("workDelay",100);o("flattenSpans",true);o("pollInterval",100);o("undoDepth",40,function(ec,ed){ec.doc.history.undoDepth=ed});o("historyEventDelay",500);o("viewportMargin",10,function(ec){ec.refresh()},true);o("maxHighlightLength",10000,function(ec){aR(ec);ec.refresh()},true);o("moveInputWithCursor",true,function(ec,ed){if(!ed){ec.display.inputDiv.style.top=ec.display.inputDiv.style.left=0}});o("tabindex",null,function(ec,ed){ec.display.input.tabIndex=ed||""});o("autofocus",null);var cg=z.modes={},ap=z.mimeModes={};z.defineMode=function(ec,ee){if(!z.defaults.mode&&ec!="null"){z.defaults.mode=ec}if(arguments.length>2){ee.dependencies=[];for(var ed=2;ed<arguments.length;++ed){ee.dependencies.push(arguments[ed])}}cg[ec]=ee};z.defineMIME=function(ed,ec){ap[ed]=ec};z.resolveMode=function(ec){if(typeof ec=="string"&&ap.hasOwnProperty(ec)){ec=ap[ec]}else{if(ec&&typeof ec.name=="string"&&ap.hasOwnProperty(ec.name)){var ed=ap[ec.name];ec=bu(ed,ec);ec.name=ed.name}else{if(typeof ec=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(ec)){return z.resolveMode("application/xml")}}}if(typeof ec=="string"){return{name:ec}}else{return ec||{name:"null"}}};z.getMode=function(ed,ec){ec=z.resolveMode(ec);var ef=cg[ec.name];if(!ef){return z.getMode(ed,"text/plain")}var eg=ef(ed,ec);if(ce.hasOwnProperty(ec.name)){var ee=ce[ec.name];for(var eh in ee){if(!ee.hasOwnProperty(eh)){continue}if(eg.hasOwnProperty(eh)){eg["_"+eh]=eg[eh]}eg[eh]=ee[eh]}}eg.name=ec.name;return eg};z.defineMode("null",function(){return{token:function(ec){ec.skipToEnd()}}});z.defineMIME("text/plain","null");var ce=z.modeExtensions={};z.extendMode=function(ee,ed){var ec=ce.hasOwnProperty(ee)?ce[ee]:(ce[ee]={});ak(ed,ec)};z.defineExtension=function(ec,ed){z.prototype[ec]=ed};z.defineDocExtension=function(ec,ed){Y.prototype[ec]=ed};z.defineOption=o;var az=[];z.defineInitHook=function(ec){az.push(ec)};function bg(ef,ec){if(ec===true){return ec}if(ef.copyState){return ef.copyState(ec)}var ee={};for(var eg in ec){var ed=ec[eg];if(ed instanceof Array){ed=ed.concat([])}ee[eg]=ed}return ee}z.copyState=bg;function bf(ee,ed,ec){return ee.startState?ee.startState(ed,ec):true}z.startState=bf;z.innerMode=function(ee,ec){while(ee.innerMode){var ed=ee.innerMode(ec);ec=ed.state;ee=ed.mode}return ed||{mode:ee,state:ec}};var c2=z.commands={selectAll:function(ec){ec.setSelection(I(ec.firstLine(),0),I(ec.lastLine()))},killLine:function(ec){var ef=ec.getCursor(true),ee=ec.getCursor(false),ed=!dR(ef,ee);if(!ed&&ec.getLine(ef.line).length==ef.ch){ec.replaceRange("",ef,I(ef.line+1,0),"+delete")}else{ec.replaceRange("",ef,ed?ee:I(ef.line),"+delete")}},deleteLine:function(ec){var ed=ec.getCursor().line;ec.replaceRange("",I(ed,0),I(ed),"+delete")},undo:function(ec){ec.undo()},redo:function(ec){ec.redo()},goDocStart:function(ec){ec.extendSelection(I(ec.firstLine(),0))},goDocEnd:function(ec){ec.extendSelection(I(ec.lastLine()))},goLineStart:function(ec){ec.extendSelection(aT(ec,ec.getCursor().line))},goLineStartSmart:function(ed){var eh=ed.getCursor(),ei=aT(ed,eh.line);var ee=ed.getLineHandle(ei.line);var ec=a(ee);if(!ec||ec[0].level==0){var eg=Math.max(0,ee.text.search(/\S/));var ef=eh.line==ei.line&&eh.ch<=eg&&eh.ch;ed.extendSelection(I(ei.line,ef?0:eg))}else{ed.extendSelection(ei)}},goLineEnd:function(ec){ec.extendSelection(cv(ec,ec.getCursor().line))},goLineRight:function(ec){var ed=ec.charCoords(ec.getCursor(),"div").top+5;ec.extendSelection(ec.coordsChar({left:ec.display.lineDiv.offsetWidth+100,top:ed},"div"))},goLineLeft:function(ec){var ed=ec.charCoords(ec.getCursor(),"div").top+5;ec.extendSelection(ec.coordsChar({left:0,top:ed},"div"))},goLineUp:function(ec){ec.moveV(-1,"line")},goLineDown:function(ec){ec.moveV(1,"line")},goPageUp:function(ec){ec.moveV(-1,"page")},goPageDown:function(ec){ec.moveV(1,"page")},goCharLeft:function(ec){ec.moveH(-1,"char")},goCharRight:function(ec){ec.moveH(1,"char")},goColumnLeft:function(ec){ec.moveH(-1,"column")},goColumnRight:function(ec){ec.moveH(1,"column")},goWordLeft:function(ec){ec.moveH(-1,"word")},goGroupRight:function(ec){ec.moveH(1,"group")},goGroupLeft:function(ec){ec.moveH(-1,"group")},goWordRight:function(ec){ec.moveH(1,"word")},delCharBefore:function(ec){ec.deleteH(-1,"char")},delCharAfter:function(ec){ec.deleteH(1,"char")},delWordBefore:function(ec){ec.deleteH(-1,"word")},delWordAfter:function(ec){ec.deleteH(1,"word")},delGroupBefore:function(ec){ec.deleteH(-1,"group")},delGroupAfter:function(ec){ec.deleteH(1,"group")},indentAuto:function(ec){ec.indentSelection("smart")},indentMore:function(ec){ec.indentSelection("add")},indentLess:function(ec){ec.indentSelection("subtract")},insertTab:function(ec){ec.replaceSelection("\t","end","+input")},defaultTab:function(ec){if(ec.somethingSelected()){ec.indentSelection("add")}else{ec.replaceSelection("\t","end","+input")}},transposeChars:function(ec){var ee=ec.getCursor(),ed=ec.getLine(ee.line);if(ee.ch>0&&ee.ch<ed.length-1){ec.replaceRange(ed.charAt(ee.ch)+ed.charAt(ee.ch-1),I(ee.line,ee.ch-1),I(ee.line,ee.ch+1))}},newlineAndIndent:function(ec){b0(ec,function(){ec.replaceSelection("\n","end","+input");ec.indentLine(ec.getCursor().line,null,true)})()},toggleOverwrite:function(ec){ec.toggleOverwrite()}};var dq=z.keyMap={};dq.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};dq.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};dq.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};dq["default"]=bi?dq.macDefault:dq.pcDefault;dq.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function d0(ec){if(typeof ec=="string"){return dq[ec]}else{return ec}}function g(ed,eh,ef){function eg(en){en=d0(en);var el=en[ed];if(el===false){return"stop"}if(el!=null&&ef(el)){return true}if(en.nofallthrough){return"stop"}var ek=en.fallthrough;if(ek==null){return false}if(Object.prototype.toString.call(ek)!="[object Array]"){return eg(ek)}for(var ej=0,em=ek.length;ej<em;++ej){var ei=eg(ek[ej]);if(ei){return ei}}return false}for(var ee=0;ee<eh.length;++ee){var ec=eg(eh[ee]);if(ec){return ec!="stop"}}}function c1(ed){var ec=dw[ed.keyCode];return ec=="Ctrl"||ec=="Alt"||ec=="Shift"||ec=="Mod"}function dF(ed,ee){if(dK&&ed.keyCode==34&&ed["char"]){return false}var ec=dw[ed.keyCode];if(ec==null||ed.altGraphKey){return false}if(ed.altKey){ec="Alt-"+ec}if(a8?ed.metaKey:ed.ctrlKey){ec="Ctrl-"+ec}if(a8?ed.ctrlKey:ed.metaKey){ec="Cmd-"+ec}if(!ee&&ed.shiftKey){ec="Shift-"+ec}return ec}z.lookupKey=g;z.isModifierKey=c1;z.keyName=dF;z.fromTextArea=function(ej,ek){if(!ek){ek={}}ek.value=ej.value;if(!ek.tabindex&&ej.tabindex){ek.tabindex=ej.tabindex}if(!ek.placeholder&&ej.placeholder){ek.placeholder=ej.placeholder}if(ek.autofocus==null){var ec=document.body;try{ec=document.activeElement}catch(ee){}ek.autofocus=ec==ej||ej.getAttribute("autofocus")!=null&&ec==document.body}function eg(){ej.value=ei.getValue()}if(ej.form){bd(ej.form,"submit",eg);if(!ek.leaveSubmitMethodAlone){var ed=ej.form,eh=ed.submit;try{var ef=ed.submit=function(){eg();ed.submit=eh;ed.submit();ed.submit=ef}}catch(ee){}}}ej.style.display="none";var ei=z(function(el){ej.parentNode.insertBefore(el,ej.nextSibling)},ek);ei.save=eg;ei.getTextArea=function(){return ej};ei.toTextArea=function(){eg();ej.parentNode.removeChild(ei.getWrapperElement());ej.style.display="";if(ej.form){cJ(ej.form,"submit",eg);if(typeof ej.form.submit=="function"){ej.form.submit=eh}}};return ei};function de(ec,ed){this.pos=this.start=0;this.string=ec;this.tabSize=ed||8;this.lastColumnPos=this.lastColumnValue=0}de.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(ec){var ee=this.string.charAt(this.pos);if(typeof ec=="string"){var ed=ee==ec}else{var ed=ee&&(ec.test?ec.test(ee):ec(ee))}if(ed){++this.pos;return ee}},eatWhile:function(ec){var ed=this.pos;while(this.eat(ec)){}return this.pos>ed},eatSpace:function(){var ec=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>ec},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ec){var ed=this.string.indexOf(ec,this.pos);if(ed>-1){this.pos=ed;return true}},backUp:function(ec){this.pos-=ec},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=a9(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue},indentation:function(){return a9(this.string,null,this.tabSize)},match:function(eg,ed,ec){if(typeof eg=="string"){var eh=function(ei){return ec?ei.toLowerCase():ei};var ef=this.string.substr(this.pos,eg.length);if(eh(ef)==eh(eg)){if(ed!==false){this.pos+=eg.length}return true}}else{var ee=this.string.slice(this.pos).match(eg);if(ee&&ee.index>0){return null}if(ee&&ed!==false){this.pos+=ee[0].length}return ee}},current:function(){return this.string.slice(this.start,this.pos)}};z.StringStream=de;function F(ed,ec){this.lines=[];this.type=ec;this.doc=ed}z.TextMarker=F;F.prototype.clear=function(){if(this.explicitlyCleared){return}var ej=this.doc.cm,ed=ej&&!ej.curOp;if(ed){bP(ej)}var ee=null,eh=null;for(var ef=0;ef<this.lines.length;++ef){var ek=this.lines[ef];var ei=dp(ek.markedSpans,this);if(ei.to!=null){eh=a6(ek)}ek.markedSpans=c9(ek.markedSpans,ei);if(ei.from!=null){ee=a6(ek)}else{if(this.collapsed&&!dI(this.doc,ek)&&ej){d5(ek,at(ej.display))}}}if(ej&&this.collapsed&&!ej.options.lineWrapping){for(var ef=0;ef<this.lines.length;++ef){var ec=t(ej.doc,this.lines[ef]),eg=cP(ej.doc,ec);if(eg>ej.display.maxLineLength){ej.display.maxLine=ec;ej.display.maxLineLength=eg;ej.display.maxLineChanged=true}}}if(ee!=null&&ej){O(ej,ee,eh+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(ej){cW(ej)}}if(ed){U(ej)}M(this,"clear")};F.prototype.find=function(){var eh,eg;for(var ed=0;ed<this.lines.length;++ed){var ec=this.lines[ed];var ee=dp(ec.markedSpans,this);if(ee.from!=null||ee.to!=null){var ef=a6(ec);if(ee.from!=null){eh=I(ef,ee.from)}if(ee.to!=null){eg=I(ef,ee.to)}}}if(this.type=="bookmark"){return eh}return eh&&{from:eh,to:eg}};F.prototype.changed=function(){var ef=this.find(),ec=this.doc.cm;if(!ef||!ec){return}var ed=dt(this.doc,ef.from.line);dV(ec,ed);if(ef.from.line>=ec.display.showingFrom&&ef.from.line<ec.display.showingTo){for(var ee=ec.display.lineDiv.firstChild;ee;ee=ee.nextSibling){if(ee.lineObj==ed){if(ee.offsetHeight!=ed.height){d5(ed,ee.offsetHeight)}break}}bS(ec,function(){ec.curOp.selectionChanged=true})}};F.prototype.attachLine=function(ec){if(!this.lines.length&&this.doc.cm){var ed=this.doc.cm.curOp;if(!ed.maybeHiddenMarkers||cb(ed.maybeHiddenMarkers,this)==-1){(ed.maybeUnhiddenMarkers||(ed.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(ec)};F.prototype.detachLine=function(ec){this.lines.splice(cb(this.lines,ec),1);if(!this.lines.length&&this.doc.cm){var ed=this.doc.cm.curOp;(ed.maybeHiddenMarkers||(ed.maybeHiddenMarkers=[])).push(this)}};function c6(el,ej,ek,en,eh){if(en&&en.shared){return E(el,ej,ek,en,eh)}if(el.cm&&!el.cm.curOp){return b0(el.cm,c6)(el,ej,ek,en,eh)}var eg=new F(el,eh);if(eh=="range"&&!du(ej,ek)){return eg}if(en){ak(en,eg)}if(eg.replacedWith){eg.collapsed=true;eg.replacedWith=d2("span",[eg.replacedWith],"CodeMirror-widget");if(!en.handleMouseEvents){eg.replacedWith.ignoreEvents=true}}if(eg.collapsed){ay=true}if(eg.addToHistory){c7(el,{from:ej,to:ek,origin:"markText"},{head:el.sel.head,anchor:el.sel.anchor},NaN)}var ed=ej.line,em=0,ef,ee,ei=el.cm,ec;el.iter(ed,ek.line+1,function(eo){if(ei&&eg.collapsed&&!ei.options.lineWrapping&&t(el,eo)==ei.display.maxLine){ec=true}var ep={from:null,to:null,marker:eg};em+=eo.text.length;if(ed==ej.line){ep.from=ej.ch;em-=ej.ch}if(ed==ek.line){ep.to=ek.ch;em-=eo.text.length-ek.ch}if(eg.collapsed){if(ed==ek.line){ee=aV(eo,ek.ch)}if(ed==ej.line){ef=aV(eo,ej.ch)}else{d5(eo,0)}}bp(eo,ep);++ed});if(eg.collapsed){el.iter(ej.line,ek.line+1,function(eo){if(dI(el,eo)){d5(eo,0)}})}if(eg.clearOnEnter){bd(eg,"beforeCursorEnter",function(){eg.clear()})}if(eg.readOnly){d7=true;if(el.history.done.length||el.history.undone.length){el.clearHistory()}}if(eg.collapsed){if(ef!=ee){throw new Error("Inserting collapsed marker overlapping an existing one")}eg.size=em;eg.atomic=true}if(ei){if(ec){ei.curOp.updateMaxLine=true}if(eg.className||eg.startStyle||eg.endStyle||eg.collapsed){O(ei,ej.line,ek.line+1)}if(eg.atomic){cW(ei)}}return eg}function s(ef,ed){this.markers=ef;this.primary=ed;for(var ec=0,ee=this;ec<ef.length;++ec){ef[ec].parent=this;bd(ef[ec],"clear",function(){ee.clear()})}}z.SharedTextMarker=s;s.prototype.clear=function(){if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var ec=0;ec<this.markers.length;++ec){this.markers[ec].clear()}M(this,"clear")};s.prototype.find=function(){return this.primary.find()};function E(eg,ej,ei,ec,ee){ec=ak(ec);ec.shared=false;var eh=[c6(eg,ej,ei,ec,ee)],ed=eh[0];var ef=ec.replacedWith;cD(eg,function(el){if(ef){ec.replacedWith=ef.cloneNode(true)}eh.push(c6(el,dS(el,ej),dS(el,ei),ec,ee));for(var ek=0;ek<el.linked.length;++ek){if(el.linked[ek].isParent){return}}ed=dQ(eh)});return new s(eh,ed)}function dp(ee,ec){if(ee){for(var ed=0;ed<ee.length;++ed){var ef=ee[ed];if(ef.marker==ec){return ef}}}}function c9(ed,ee){for(var ef,ec=0;ec<ed.length;++ec){if(ed[ec]!=ee){(ef||(ef=[])).push(ed[ec])}}return ef}function bp(ec,ed){ec.markedSpans=ec.markedSpans?ec.markedSpans.concat([ed]):[ed];ed.marker.attachLine(ec)}function ao(ed,ee,ei){if(ed){for(var eg=0,ej;eg<ed.length;++eg){var ek=ed[eg],eh=ek.marker;var ec=ek.from==null||(eh.inclusiveLeft?ek.from<=ee:ek.from<ee);if(ec||eh.type=="bookmark"&&ek.from==ee&&(!ei||!ek.marker.insertLeft)){var ef=ek.to==null||(eh.inclusiveRight?ek.to>=ee:ek.to>ee);(ej||(ej=[])).push({from:ek.from,to:ef?null:ek.to,marker:eh})}}}return ej}function ad(ed,ef,ei){if(ed){for(var eg=0,ej;eg<ed.length;++eg){var ek=ed[eg],eh=ek.marker;var ee=ek.to==null||(eh.inclusiveRight?ek.to>=ef:ek.to>ef);if(ee||eh.type=="bookmark"&&ek.from==ef&&(!ei||ek.marker.insertLeft)){var ec=ek.from==null||(eh.inclusiveLeft?ek.from<=ef:ek.from<ef);(ej||(ej=[])).push({from:ec?null:ek.from-ef,to:ek.to==null?null:ek.to-ef,marker:eh})}}}return ej}function cO(eo,el){var ek=bl(eo,el.from.line)&&dt(eo,el.from.line).markedSpans;var er=bl(eo,el.to.line)&&dt(eo,el.to.line).markedSpans;if(!ek&&!er){return null}var ed=el.from.ch,eg=el.to.ch,ej=dR(el.from,el.to);var ei=ao(ek,ed,ej);var eq=ad(er,eg,ej);var ep=el.text.length==1,ee=dQ(el.text).length+(ep?ed:0);if(ei){for(var ef=0;ef<ei.length;++ef){var en=ei[ef];if(en.to==null){var es=dp(eq,en.marker);if(!es){en.to=ed}else{if(ep){en.to=es.to==null?null:es.to+ee}}}}}if(eq){for(var ef=0;ef<eq.length;++ef){var en=eq[ef];if(en.to!=null){en.to+=ee}if(en.from==null){var es=dp(ei,en.marker);if(!es){en.from=ee;if(ep){(ei||(ei=[])).push(en)}}}else{en.from+=ee;if(ep){(ei||(ei=[])).push(en)}}}}if(ep&&ei){for(var ef=0;ef<ei.length;++ef){if(ei[ef].from!=null&&ei[ef].from==ei[ef].to&&ei[ef].marker.type!="bookmark"){ei.splice(ef--,1)}}if(!ei.length){ei=null}}var eh=[ei];if(!ep){var em=el.text.length-2,ec;if(em>0&&ei){for(var ef=0;ef<ei.length;++ef){if(ei[ef].to==null){(ec||(ec=[])).push({from:null,to:null,marker:ei[ef].marker})}}}for(var ef=0;ef<em;++ef){eh.push(ec)}eh.push(eq)}return eh}function cF(ek,ei){var ec=bj(ek,ei);var el=cO(ek,ei);if(!ec){return el}if(!el){return ec}for(var ef=0;ef<ec.length;++ef){var eg=ec[ef],eh=el[ef];if(eg&&eh){spans:for(var ee=0;ee<eh.length;++ee){var ej=eh[ee];for(var ed=0;ed<eg.length;++ed){if(eg[ed].marker==ej.marker){continue spans}}eg.push(ej)}}else{if(eh){ec[ef]=eh}}}return ec}function bN(em,ek,el){var ef=null;em.iter(ek.line,el.line+1,function(en){if(en.markedSpans){for(var eo=0;eo<en.markedSpans.length;++eo){var ep=en.markedSpans[eo].marker;if(ep.readOnly&&(!ef||cb(ef,ep)==-1)){(ef||(ef=[])).push(ep)}}}});if(!ef){return null}var eg=[{from:ek,to:el}];for(var eh=0;eh<ef.length;++eh){var ei=ef[eh],ed=ei.find();for(var ee=0;ee<eg.length;++ee){var ec=eg[ee];if(du(ec.to,ed.from)||du(ed.to,ec.from)){continue}var ej=[ee,1];if(du(ec.from,ed.from)||!ei.inclusiveLeft&&dR(ec.from,ed.from)){ej.push({from:ec.from,to:ed.from})}if(du(ed.to,ec.to)||!ei.inclusiveRight&&dR(ec.to,ed.to)){ej.push({from:ed.to,to:ec.to})}eg.splice.apply(eg,ej);ee+=ej.length-1}}return eg}function aV(ed,ef){var ec=ay&&ed.markedSpans,eh;if(ec){for(var eg,ee=0;ee<ec.length;++ee){eg=ec[ee];if(!eg.marker.collapsed){continue}if((eg.from==null||eg.from<ef)&&(eg.to==null||eg.to>ef)&&(!eh||eh.width<eg.marker.width)){eh=eg.marker}}}return eh}function db(ec){return aV(ec,-1)}function cU(ec){return aV(ec,ec.text.length+1)}function t(ee,ed){var ec;while(ec=db(ed)){ed=dt(ee,ec.find().from.line)}return ed}function dI(eg,ed){var ec=ay&&ed.markedSpans;if(ec){for(var ef,ee=0;ee<ec.length;++ee){ef=ec[ee];if(!ef.marker.collapsed){continue}if(ef.from==null){return true}if(ef.marker.replacedWith){continue}if(ef.from==0&&ef.marker.inclusiveLeft&&H(eg,ed,ef)){return true}}}}function H(ei,ed,ef){if(ef.to==null){var ec=ef.marker.find().to,eg=dt(ei,ec.line);return H(ei,eg,dp(eg.markedSpans,ef.marker))}if(ef.marker.inclusiveRight&&ef.to==ed.text.length){return true}for(var eh,ee=0;ee<ed.markedSpans.length;++ee){eh=ed.markedSpans[ee];if(eh.marker.collapsed&&!eh.marker.replacedWith&&eh.from==ef.to&&(eh.marker.inclusiveLeft||ef.marker.inclusiveRight)&&H(ei,ed,eh)){return true}}}function d6(ec){var ee=ec.markedSpans;if(!ee){return}for(var ed=0;ed<ee.length;++ed){ee[ed].marker.detachLine(ec)}ec.markedSpans=null}function b1(ec,ee){if(!ee){return}for(var ed=0;ed<ee.length;++ed){ee[ed].marker.attachLine(ec)}ec.markedSpans=ee}var cn=z.LineWidget=function(ec,ef,ed){for(var ee in ed){if(ed.hasOwnProperty(ee)){this[ee]=ed[ee]}}this.cm=ec;this.node=ef};function C(ec){return function(){var ee=!this.cm.curOp;if(ee){bP(this.cm)}try{var ed=ec.apply(this,arguments)}finally{if(ee){U(this.cm)}}return ed}}cn.prototype.clear=C(function(){var ec=this.line.widgets,ee=a6(this.line);if(ee==null||!ec){return}for(var ed=0;ed<ec.length;++ed){if(ec[ed]==this){ec.splice(ed--,1)}}if(!ec.length){this.line.widgets=null}d5(this.line,Math.max(0,this.line.height-bX(this)));O(this.cm,ee,ee+1)});cn.prototype.changed=C(function(){var ec=this.height;this.height=null;var ed=bX(this)-ec;if(!ed){return}d5(this.line,this.line.height+ed);var ee=a6(this.line);O(this.cm,ee,ee+1)});function bX(ec){if(ec.height!=null){return ec.height}if(!ec.node.parentNode||ec.node.parentNode.nodeType!=1){ba(ec.cm.display.measure,d2("div",[ec.node],null,"position: relative"))}return ec.height=ec.node.offsetHeight}function a1(ec,eg,ee,ed){var ef=new cn(ec,ee,ed);if(ef.noHScroll){ec.display.alignWidgets=true}cY(ec,eg,function(ei){(ei.widgets||(ei.widgets=[])).push(ef);ef.line=ei;if(!dI(ec.doc,ei)||ef.showIfHidden){var eh=a5(ec,ei)<ec.display.scroller.scrollTop;d5(ei,ei.height+bX(ef));if(eh){bR(ec,0,ef.height)}}return true});return ef}function aL(ef,ee,ec){var ed={text:ef};b1(ed,ee);ed.height=ec?ec(ed):1;return ed}function cQ(ed,eg,ee,ec){ed.text=eg;if(ed.stateAfter){ed.stateAfter=null}if(ed.styles){ed.styles=null}if(ed.order!=null){ed.order=null}d6(ed);b1(ed,ee);var ef=ec?ec(ed):1;if(ef!=ed.height){d5(ed,ef)}}function aW(ec){ec.parent=null;d6(ec)}function r(ej,el,eg,ed,eh){var ee=eg.flattenSpans;if(ee==null){ee=ej.options.flattenSpans}var em="",ei=null;var ek=new de(el,ej.options.tabSize),ec;if(el==""&&eg.blankLine){eg.blankLine(ed)}while(!ek.eol()){if(ek.pos>ej.options.maxHighlightLength){ee=false;ek.pos=Math.min(el.length,ek.start+50000);ec=null}else{ec=eg.token(ek,ed)}var ef=ek.current();ek.start=ek.pos;if(!ee||ei!=ec){if(em){eh(em,ei)}em=ef;ei=ec}else{em=em+ef}}if(em){eh(em,ei)}}function dN(ec,ed,eh){var ef=[ec.state.modeGen];r(ec,ed.text,ec.doc.mode,eh,function(ej,ek){ef.push(ej,ek)});for(var ei=0;ei<ec.state.overlays.length;++ei){var ee=ec.state.overlays[ei],eg=1;r(ec,ed.text,ee.mode,true,function(ek,em){var eo=eg,ej=ek.length;while(ej){var en=ef[eg],el=en.length;if(el<=ej){ej-=el}else{ef.splice(eg,1,en.slice(0,ej),ef[eg+1],en.slice(ej));ej=0}eg+=2}if(!em){return}if(ee.opaque){ef.splice(eo,eg-eo,ek,em);eg=eo+2}else{for(;eo<eg;eo+=2){var en=ef[eo+1];ef[eo+1]=en?en+" "+em:em}}})}return ef}function b5(ec,ed){if(!ed.styles||ed.styles[0]!=ec.state.modeGen){ed.styles=dN(ec,ed,ed.stateAfter=cm(ec,a6(ed)))}return ed.styles}function ck(ec,ed,ee){var eg=ec.doc.mode;var ef=new de(ed.text,ec.options.tabSize);if(ed.text==""&&eg.blankLine){eg.blankLine(ee)}while(!ef.eol()&&ef.pos<=ec.options.maxHighlightLength){eg.token(ef,ee);ef.start=ef.pos}}var cy={};function j(ec){if(!ec){return null}return cy[ec]||(cy[ec]="cm-"+ec.replace(/ +/g," cm-"))}function cu(el,ep,ec){var em,eq=ep,ej,eo,ei=true;while(em=db(eq)){eq=dt(el.doc,em.find().from.line);if(!ej){ej=eq}}var eh={pre:d2("pre"),col:0,pos:0,display:!ec,measure:null,addedOne:false,cm:el};if(eq.textClass){eh.pre.className=eq.textClass}do{if(eq.text){ei=false}eh.measure=eq==ep&&ec;eh.pos=0;eh.addToken=eh.measure?e:p;if((cq||bZ)&&el.getOption("lineWrapping")){eh.addToken=dP(eh.addToken)}if(ec&&eo&&eq!=ep&&!eh.addedOne){ec[0]=eh.pre.appendChild(aO(el.display.measure));eh.addedOne=true}var eg=aP(eq,eh,b5(el,eq));eo=eq==ej;if(eg){eq=dt(el.doc,eg.to.line)}}while(eg);if(ec&&!eh.addedOne){ec[0]=eh.pre.appendChild(ei?d2("span","\u00a0"):aO(el.display.measure))}if(!eh.pre.firstChild&&!dI(el.doc,ep)){eh.pre.appendChild(document.createTextNode("\u00a0"))}var ed;if(ec&&cq&&(ed=a(eq))){var ef=ed.length-1;if(ed[ef].from==ed[ef].to){--ef}var en=ed[ef],ee=ed[ef-1];if(en.from+1==en.to&&ee&&en.level<ee.level){var ek=ec[eh.pos-1];if(ek){ek.parentNode.insertBefore(ek.measureRight=aO(el.display.measure),ek.nextSibling)}}}af(el,"renderLine",el,ep,eh.pre);return eh.pre}var b3=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;function p(eg,en,ec,ef,eo){if(!en){return}if(!b3.test(en)){eg.col+=en.length;var ej=document.createTextNode(en)}else{var ej=document.createDocumentFragment(),el=0;while(true){b3.lastIndex=el;var ed=b3.exec(en);var ei=ed?ed.index-el:en.length-el;if(ei){ej.appendChild(document.createTextNode(en.slice(el,el+ei)));eg.col+=ei}if(!ed){break}el+=ei+1;if(ed[0]=="\t"){var eh=eg.cm.options.tabSize,ek=eh-eg.col%eh;ej.appendChild(d2("span",bA(ek),"cm-tab"));eg.col+=ek}else{var ee=d2("span","\u2022","cm-invalidchar");ee.title="\\u"+ed[0].charCodeAt(0).toString(16);ej.appendChild(ee);eg.col+=1}}}if(ec||ef||eo||eg.measure){var em=ec||"";if(ef){em+=ef}if(eo){em+=eo}return eg.pre.appendChild(d2("span",[ej],em))}eg.pre.appendChild(ej)}function e(ei,ek,ed,ef,el){var eh=ei.cm.options.lineWrapping;for(var eg=0;eg<ek.length;++eg){var ec=ek.charAt(eg),ee=eg==0;if(ec>="\ud800"&&ec<"\udbff"&&eg<ek.length-1){ec=ek.slice(eg,eg+2);++eg}else{if(eg&&eh&&bm(ek,eg)){ei.pre.appendChild(d2("wbr"))}}var ej=ei.measure[ei.pos]=p(ei,ec,ed,ee&&ef,eg==ek.length-1&&el);if(cq&&eh&&ec==" "&&eg&&!/\s/.test(ek.charAt(eg-1))&&eg<ek.length-1&&!/\s/.test(ek.charAt(eg+1))){ej.style.whiteSpace="normal"}ei.pos+=ec.length}if(ek.length){ei.addedOne=true}}function dP(ec){function ed(ee){var ef=" ";for(var eg=0;eg<ee.length-2;++eg){ef+=eg%2?" ":"\u00a0"}ef+=" ";return ef}return function(ef,ei,eg,ee,eh){return ec(ef,ei.replace(/ {3,}/,ed),eg,ee,eh)}}function K(ec,ed,ee){if(ee){if(!ec.display){ee=ee.cloneNode(true)}ec.pre.appendChild(ee);if(ec.measure&&ed){ec.measure[ec.pos]=ee;ec.addedOne=true}}ec.pos+=ed}function aP(ek,eq,ej){var eh=ek.markedSpans;if(!eh){for(var et=1;et<ej.length;et+=2){eq.addToken(eq,ej[et],j(ej[et+1]))}return}var ei=ek.text,eu=ei.length;var eg=0,et=1,en="",ev;var ex=0,ec,ew,eo,ee;for(;;){if(ex==eg){ec=ew=eo="";ee=null;ex=Infinity;var el=null;for(var er=0;er<eh.length;++er){var es=eh[er],ep=es.marker;if(es.from<=eg&&(es.to==null||es.to>eg)){if(es.to!=null&&ex>es.to){ex=es.to;ew=""}if(ep.className){ec+=" "+ep.className}if(ep.startStyle&&es.from==eg){eo+=" "+ep.startStyle}if(ep.endStyle&&es.to==ex){ew+=" "+ep.endStyle}if(ep.collapsed&&(!ee||ee.marker.size<ep.size)){ee=es}}else{if(es.from>eg&&ex>es.from){ex=es.from}}if(ep.type=="bookmark"&&es.from==eg&&ep.replacedWith){el=ep.replacedWith}}if(ee&&(ee.from||0)==eg){K(eq,(ee.to==null?eu:ee.to)-eg,ee.from!=null&&ee.marker.replacedWith);if(ee.to==null){return ee.marker.find()}}if(el&&!ee){K(eq,0,el)}}if(eg>=eu){break}var em=Math.min(eu,ex);while(true){if(en){var ed=eg+en.length;if(!ee){var ef=ed>em?en.slice(0,em-eg):en;eq.addToken(eq,ef,ev?ev+ec:ec,eo,eg+ef.length==ex?ew:"")}if(ed>=em){en=en.slice(em-eg);eg=em;break}eg=ed;eo=""}en=ej[et++];ev=j(ej[et++])}}}function dL(et,ek,eg,eo,ei){function ef(eu){return eg?eg[eu]:null}function ej(eu,ew,ev){cQ(eu,ew,ev,ei);M(eu,"change",eu,ek)}var ep=ek.from,ed=ek.to,em=ek.text;var el=dt(et,ep.line),ec=dt(et,ed.line);var ee=dQ(em),er=ef(em.length-1),en=ed.line-ep.line;if(ep.ch==0&&ed.ch==0&&ee==""){for(var eq=0,es=em.length-1,eh=[];eq<es;++eq){eh.push(aL(em[eq],ef(eq),ei))}ej(ec,ec.text,er);if(en){et.remove(ep.line,en)}if(eh.length){et.insert(ep.line,eh)}}else{if(el==ec){if(em.length==1){ej(el,el.text.slice(0,ep.ch)+ee+el.text.slice(ed.ch),er)}else{for(var eh=[],eq=1,es=em.length-1;eq<es;++eq){eh.push(aL(em[eq],ef(eq),ei))}eh.push(aL(ee+el.text.slice(ed.ch),er,ei));ej(el,el.text.slice(0,ep.ch)+em[0],ef(0));et.insert(ep.line+1,eh)}}else{if(em.length==1){ej(el,el.text.slice(0,ep.ch)+em[0]+ec.text.slice(ed.ch),ef(0));et.remove(ep.line+1,en)}else{ej(el,el.text.slice(0,ep.ch)+em[0],ef(0));ej(ec,ee+ec.text.slice(ed.ch),er);for(var eq=1,es=em.length-1,eh=[];eq<es;++eq){eh.push(aL(em[eq],ef(eq),ei))}if(en>1){et.remove(ep.line+1,en-1)}et.insert(ep.line+1,eh)}}}M(et,"change",et,ek);bb(et,eo.anchor,eo.head,null,true)}function di(ed){this.lines=ed;this.parent=null;for(var ee=0,ef=ed.length,ec=0;ee<ef;++ee){ed[ee].parent=this;ec+=ed[ee].height}this.height=ec}di.prototype={chunkSize:function(){return this.lines.length},removeInner:function(ec,eg){for(var ee=ec,ef=ec+eg;ee<ef;++ee){var ed=this.lines[ee];this.height-=ed.height;aW(ed);M(ed,"delete")}this.lines.splice(ec,eg)},collapse:function(ec){ec.splice.apply(ec,[ec.length,0].concat(this.lines))},insertInner:function(ed,ee,ec){this.height+=ec;this.lines=this.lines.slice(0,ed).concat(ee).concat(this.lines.slice(ed));for(var ef=0,eg=ee.length;ef<eg;++ef){ee[ef].parent=this}},iterN:function(ec,ef,ee){for(var ed=ec+ef;ec<ed;++ec){if(ee(this.lines[ec])){return true}}}};function dJ(ef){this.children=ef;var ee=0,ec=0;for(var ed=0,eh=ef.length;ed<eh;++ed){var eg=ef[ed];ee+=eg.chunkSize();ec+=eg.height;eg.parent=this}this.size=ee;this.height=ec;this.parent=null}dJ.prototype={chunkSize:function(){return this.size},removeInner:function(ec,ej){this.size-=ej;for(var ee=0;ee<this.children.length;++ee){var ei=this.children[ee],eg=ei.chunkSize();if(ec<eg){var ef=Math.min(ej,eg-ec),eh=ei.height;ei.removeInner(ec,ef);this.height-=eh-ei.height;if(eg==ef){this.children.splice(ee--,1);ei.parent=null}if((ej-=ef)==0){break}ec=0}else{ec-=eg}}if(this.size-ej<25){var ed=[];this.collapse(ed);this.children=[new di(ed)];this.children[0].parent=this}},collapse:function(ec){for(var ed=0,ee=this.children.length;ed<ee;++ed){this.children[ed].collapse(ec)}},insertInner:function(ed,ek,ej){this.size+=ek.length;this.height+=ej;for(var ee=0,eg=this.children.length;ee<eg;++ee){var ec=this.children[ee],eh=ec.chunkSize();if(ed<=eh){ec.insertInner(ed,ek,ej);if(ec.lines&&ec.lines.length>50){while(ec.lines.length>50){var ef=ec.lines.splice(ec.lines.length-25,25);var ei=new di(ef);ec.height-=ei.height;this.children.splice(ee+1,0,ei);ei.parent=this}this.maybeSpill()}break}ed-=eh}},maybeSpill:function(){if(this.children.length<=10){return}var ef=this;do{var ed=ef.children.splice(ef.children.length-5,5);var ee=new dJ(ed);if(!ef.parent){var eg=new dJ(ef.children);eg.parent=ef;ef.children=[eg,ee];ef=eg}else{ef.size-=ee.size;ef.height-=ee.height;var ec=cb(ef.parent.children,ef);ef.parent.children.splice(ec+1,0,ee)}ee.parent=ef.parent}while(ef.children.length>10);ef.parent.maybeSpill()},iterN:function(ec,ej,ei){for(var ed=0,eg=this.children.length;ed<eg;++ed){var eh=this.children[ed],ef=eh.chunkSize();if(ec<ef){var ee=Math.min(ej,ef-ec);if(eh.iterN(ec,ee,ei)){return true}if((ej-=ee)==0){break}ec=0}else{ec-=ef}}}};var bB=0;var Y=z.Doc=function(ee,ed,ec){if(!(this instanceof Y)){return new Y(ee,ed,ec)}if(ec==null){ec=0}dJ.call(this,[new di([aL("",null)])]);this.first=ec;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.history=aa();this.cleanGeneration=1;this.frontier=ec;var ef=I(ec,0);this.sel={from:ef,to:ef,head:ef,anchor:ef,shift:false,extend:false,goalColumn:null};this.id=++bB;this.modeOption=ed;if(typeof ee=="string"){ee=av(ee)}dL(this,{from:ef,to:ef,text:ee},null,{head:ef,anchor:ef})};Y.prototype=bu(dJ.prototype,{constructor:Y,iter:function(ee,ed,ec){if(ec){this.iterN(ee-this.first,ed-ee,ec)}else{this.iterN(this.first,this.first+this.size,ee)}},insert:function(ed,ee){var ec=0;for(var ef=0,eg=ee.length;ef<eg;++ef){ec+=ee[ef].height}this.insertInner(ed-this.first,ee,ec)},remove:function(ec,ed){this.removeInner(ec-this.first,ed)},getValue:function(ed){var ec=ax(this,this.first,this.first+this.size);if(ed===false){return ec}return ec.join(ed||"\n")},setValue:function(ed){var ee=I(this.first,0),ec=this.first+this.size-1;aF(this,{from:ee,to:I(ec,dt(this,ec).text.length),text:av(ed),origin:"setValue"},{head:ee,anchor:ee},true)},replaceRange:function(ed,ef,ee,ec){ef=dS(this,ef);ee=ee?dS(this,ee):ef;aw(this,ed,ef,ee,ec)},getRange:function(ef,ee,ed){var ec=d3(this,dS(this,ef),dS(this,ee));if(ed===false){return ec}return ec.join(ed||"\n")},getLine:function(ed){var ec=this.getLineHandle(ed);return ec&&ec.text},setLine:function(ec,ed){if(bl(this,ec)){aw(this,ed,I(ec,0),dS(this,I(ec)))}},removeLine:function(ec){if(ec){aw(this,"",dS(this,I(ec-1)),dS(this,I(ec)))}else{aw(this,"",I(0,0),dS(this,I(1,0)))}},getLineHandle:function(ec){if(bl(this,ec)){return dt(this,ec)}},getLineNumber:function(ec){return a6(ec)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(ec){return dS(this,ec)},getCursor:function(ee){var ec=this.sel,ed;if(ee==null||ee=="head"){ed=ec.head}else{if(ee=="anchor"){ed=ec.anchor}else{if(ee=="end"||ee===false){ed=ec.to}else{ed=ec.from}}}return bt(ed)},somethingSelected:function(){return !dR(this.sel.head,this.sel.anchor)},setCursor:dM(function(ec,ed,ef){var ee=dS(this,typeof ec=="number"?I(ec,ed||0):ec);if(ef){dZ(this,ee)}else{bb(this,ee,ee)}}),setSelection:dM(function(ec,ed){bb(this,dS(this,ec),dS(this,ed||ec))}),extendSelection:dM(function(ed,ec){dZ(this,dS(this,ed),ec&&dS(this,ec))}),getSelection:function(ec){return this.getRange(this.sel.from,this.sel.to,ec)},replaceSelection:function(ed,ee,ec){aF(this,{from:this.sel.from,to:this.sel.to,text:av(ed),origin:ec},ee||"around")},undo:dM(function(){bk(this,"undo")}),redo:dM(function(){bk(this,"redo")}),setExtending:function(ec){this.sel.extend=ec},historySize:function(){var ec=this.history;return{undo:ec.done.length,redo:ec.undone.length}},clearHistory:function(){this.history=aa(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration()},changeGeneration:function(){this.history.lastOp=this.history.lastOrigin=null;return this.history.generation},isClean:function(ec){return this.history.generation==(ec||this.cleanGeneration)},getHistory:function(){return{done:a7(this.history.done),undone:a7(this.history.undone)}},setHistory:function(ed){var ec=this.history=aa(this.history.maxGeneration);ec.done=ed.done.slice(0);ec.undone=ed.undone.slice(0)},markText:function(ee,ed,ec){return c6(this,dS(this,ee),dS(this,ed),ec,"range")},setBookmark:function(ee,ec){var ed={replacedWith:ec&&(ec.nodeType==null?ec.widget:ec),insertLeft:ec&&ec.insertLeft};ee=dS(this,ee);return c6(this,ee,ee,ed,"bookmark")},findMarksAt:function(eg){eg=dS(this,eg);var ef=[],ed=dt(this,eg.line).markedSpans;if(ed){for(var ec=0;ec<ed.length;++ec){var ee=ed[ec];if((ee.from==null||ee.from<=eg.ch)&&(ee.to==null||ee.to>=eg.ch)){ef.push(ee.marker.parent||ee.marker)}}}return ef},getAllMarks:function(){var ec=[];this.iter(function(ee){var ed=ee.markedSpans;if(ed){for(var ef=0;ef<ed.length;++ef){if(ed[ef].from!=null){ec.push(ed[ef].marker)}}}});return ec},posFromIndex:function(ed){var ec,ee=this.first;this.iter(function(ef){var eg=ef.text.length+1;if(eg>ed){ec=ed;return true}ed-=eg;++ee});return dS(this,I(ee,ec))},indexFromPos:function(ed){ed=dS(this,ed);var ec=ed.ch;if(ed.line<this.first||ed.ch<0){return 0}this.iter(this.first,ed.line,function(ee){ec+=ee.text.length+1});return ec},copy:function(ec){var ed=new Y(ax(this,this.first,this.first+this.size),this.modeOption,this.first);ed.scrollTop=this.scrollTop;ed.scrollLeft=this.scrollLeft;ed.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:false,goalColumn:this.sel.goalColumn};if(ec){ed.history.undoDepth=this.history.undoDepth;ed.setHistory(this.getHistory())}return ed},linkedDoc:function(ec){if(!ec){ec={}}var ef=this.first,ee=this.first+this.size;if(ec.from!=null&&ec.from>ef){ef=ec.from}if(ec.to!=null&&ec.to<ee){ee=ec.to}var ed=new Y(ax(this,ef,ee),ec.mode||this.modeOption,ef);if(ec.sharedHist){ed.history=this.history}(this.linked||(this.linked=[])).push({doc:ed,sharedHist:ec.sharedHist});ed.linked=[{doc:this,isParent:true,sharedHist:ec.sharedHist}];return ed},unlinkDoc:function(ed){if(ed instanceof z){ed=ed.doc}if(this.linked){for(var ee=0;ee<this.linked.length;++ee){var ef=this.linked[ee];if(ef.doc!=ed){continue}this.linked.splice(ee,1);ed.unlinkDoc(this);break}}if(ed.history==this.history){var ec=[ed.id];cD(ed,function(eg){ec.push(eg.id)},true);ed.history=aa();ed.history.done=a7(this.history.done,ec);ed.history.undone=a7(this.history.undone,ec)}},iterLinkedDocs:function(ec){cD(this,ec)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});Y.prototype.eachLine=Y.prototype.iter;var d="iter insert remove copy getEditor".split(" ");for(var a4 in Y.prototype){if(Y.prototype.hasOwnProperty(a4)&&cb(d,a4)<0){z.prototype[a4]=(function(ec){return function(){return ec.apply(this.doc,arguments)}})(Y.prototype[a4])}}function cD(ef,ee,ed){function ec(el,ej,eh){if(el.linked){for(var ei=0;ei<el.linked.length;++ei){var eg=el.linked[ei];if(eg.doc==ej){continue}var ek=eh&&eg.sharedHist;if(ed&&!ek){continue}ee(eg.doc,ek);ec(eg.doc,el,ek)}}}ec(ef,null,true)}function cG(ec,ed){if(ed.cm){throw new Error("This document is already in use.")}ec.doc=ed;ed.cm=ec;J(ec);aR(ec);if(!ec.options.lineWrapping){d4(ec)}ec.options.mode=ed.modeOption;O(ec)}function dt(ec,eg){eg-=ec.first;while(!ec.lines){for(var ed=0;;++ed){var ef=ec.children[ed],ee=ef.chunkSize();if(eg<ee){ec=ef;break}eg-=ee}}return ec.lines[eg]}function d3(ee,eg,ec){var ed=[],ef=eg.line;ee.iter(eg.line,ec.line+1,function(eh){var ei=eh.text;if(ef==ec.line){ei=ei.slice(0,ec.ch)}if(ef==eg.line){ei=ei.slice(eg.ch)}ed.push(ei);++ef});return ed}function ax(ed,ef,ee){var ec=[];ed.iter(ef,ee,function(eg){ec.push(eg.text)});return ec}function d5(ed,ec){var ee=ec-ed.height;for(var ef=ed;ef;ef=ef.parent){ef.height+=ee}}function a6(ec){if(ec.parent==null){return null}var eg=ec.parent,ef=cb(eg.lines,ec);for(var ed=eg.parent;ed;eg=ed,ed=ed.parent){for(var ee=0;;++ee){if(ed.children[ee]==eg){break}ef+=ed.children[ee].chunkSize()}}return ef+eg.first}function a0(ei,eg){var ee=ei.first;outer:do{for(var ef=0,eh=ei.children.length;ef<eh;++ef){var ed=ei.children[ef],ec=ed.height;if(eg<ec){ei=ed;continue outer}eg-=ec;ee+=ed.chunkSize()}return ee}while(!ei.lines);for(var ef=0,eh=ei.lines.length;ef<eh;++ef){var ek=ei.lines[ef],ej=ek.height;if(eg<ej){break}eg-=ej}return ee+ef}function a5(ec,ef){ef=t(ec.doc,ef);var eh=0,ee=ef.parent;for(var eg=0;eg<ee.lines.length;++eg){var ed=ee.lines[eg];if(ed==ef){break}else{eh+=ed.height}}for(var ei=ee.parent;ei;ee=ei,ei=ee.parent){for(var eg=0;eg<ei.children.length;++eg){var ej=ei.children[eg];if(ej==ee){break}else{eh+=ej.height}}}return eh}function a(ed){var ec=ed.order;if(ec==null){ec=ed.order=aG(ed.text)}return ec}function aa(ec){return{done:[],undone:[],undoDepth:Infinity,lastTime:0,lastOp:null,lastOrigin:null,generation:ec||1,maxGeneration:ec||1}}function be(ed,eh,eg,ef){var ec=eh["spans_"+ed.id],ee=0;ed.iter(Math.max(ed.first,eg),Math.min(ed.first+ed.size,ef),function(ei){if(ei.markedSpans){(ec||(ec=eh["spans_"+ed.id]={}))[ee]=ei.markedSpans}++ee})}function ci(ec,ee){var ed={from:ee.from,to:bW(ee),text:d3(ec,ee.from,ee.to)};be(ec,ed,ee.from.line,ee.to.line+1);cD(ec,function(ef){be(ef,ed,ee.from.line,ee.to.line+1)},true);return ed}function c7(eh,ej,eg,ec){var ef=eh.history;ef.undone.length=0;var ee=+new Date,ei=dQ(ef.done);if(ei&&(ef.lastOp==ec||ef.lastOrigin==ej.origin&&ej.origin&&((ej.origin.charAt(0)=="+"&&eh.cm&&ef.lastTime>ee-eh.cm.options.historyEventDelay)||ej.origin.charAt(0)=="*"))){var ed=dQ(ei.changes);if(dR(ej.from,ej.to)&&dR(ej.from,ed.to)){ed.to=bW(ej)}else{ei.changes.push(ci(eh,ej))}ei.anchorAfter=eg.anchor;ei.headAfter=eg.head}else{ei={changes:[ci(eh,ej)],generation:ef.generation,anchorBefore:eh.sel.anchor,headBefore:eh.sel.head,anchorAfter:eg.anchor,headAfter:eg.head};ef.done.push(ei);ef.generation=++ef.maxGeneration;while(ef.done.length>ef.undoDepth){ef.done.shift()}}ef.lastTime=ee;ef.lastOp=ec;ef.lastOrigin=ej.origin}function aJ(ee){if(!ee){return null}for(var ed=0,ec;ed<ee.length;++ed){if(ee[ed].marker.explicitlyCleared){if(!ec){ec=ee.slice(0,ed)}}else{if(ec){ec.push(ee[ed])}}}return !ec?ee:ec.length?ec:null}function bj(ef,eg){var ee=eg["spans_"+ef.id];if(!ee){return null}for(var ed=0,ec=[];ed<eg.text.length;++ed){ec.push(aJ(ee[ed]))}return ec}function a7(em,ef){for(var ei=0,ed=[];ei<em.length;++ei){var ee=em[ei],ek=ee.changes,el=[];ed.push({changes:el,anchorBefore:ee.anchorBefore,headBefore:ee.headBefore,anchorAfter:ee.anchorAfter,headAfter:ee.headAfter});for(var eh=0;eh<ek.length;++eh){var ej=ek[eh],eg;el.push({from:ej.from,to:ej.to,text:ej.text});if(ef){for(var ec in ej){if(eg=ec.match(/^spans_(\d+)$/)){if(cb(ef,Number(eg[1]))>-1){dQ(el)[ec]=ej[ec];delete ej[ec]}}}}}}return ed}function dg(ef,ee,ed,ec){if(ed<ef.line){ef.line+=ec}else{if(ee<ef.line){ef.line=ee;ef.ch=0}}}function dv(ef,eh,ei,ej){for(var ee=0;ee<ef.length;++ee){var ec=ef[ee],eg=true;for(var ed=0;ed<ec.changes.length;++ed){var ek=ec.changes[ed];if(!ec.copied){ek.from=bt(ek.from);ek.to=bt(ek.to)}if(ei<ek.from.line){ek.from.line+=ej;ek.to.line+=ej}else{if(eh<=ek.to.line){eg=false;break}}}if(!ec.copied){ec.anchorBefore=bt(ec.anchorBefore);ec.headBefore=bt(ec.headBefore);ec.anchorAfter=bt(ec.anchorAfter);ec.readAfter=bt(ec.headAfter);ec.copied=true}if(!eg){ef.splice(0,ee+1);ee=0}else{dg(ec.anchorBefore);dg(ec.headBefore);dg(ec.anchorAfter);dg(ec.headAfter)}}}function cp(ed,eg){var ef=eg.from.line,ee=eg.to.line,ec=eg.text.length-(ee-ef)-1;dv(ed.done,ef,ee,ec);dv(ed.undone,ef,ee,ec)}function dd(){cR(this)}function W(ec){if(!ec.stop){ec.stop=dd}return ec}function bM(ec){if(ec.preventDefault){ec.preventDefault()}else{ec.returnValue=false}}function cf(ec){if(ec.stopPropagation){ec.stopPropagation()}else{ec.cancelBubble=true}}function cR(ec){bM(ec);cf(ec)}z.e_stop=cR;z.e_preventDefault=bM;z.e_stopPropagation=cf;function B(ec){return ec.target||ec.srcElement}function dU(ed){var ec=ed.which;if(ec==null){if(ed.button&1){ec=1}else{if(ed.button&2){ec=3}else{if(ed.button&4){ec=2}}}}if(bi&&ed.ctrlKey&&ec==1){ec=3}return ec}function bd(ef,ed,ee){if(ef.addEventListener){ef.addEventListener(ed,ee,false)}else{if(ef.attachEvent){ef.attachEvent("on"+ed,ee)}else{var eg=ef._handlers||(ef._handlers={});var ec=eg[ed]||(eg[ed]=[]);ec.push(ee)}}}function cJ(eg,ee,ef){if(eg.removeEventListener){eg.removeEventListener(ee,ef,false)}else{if(eg.detachEvent){eg.detachEvent("on"+ee,ef)}else{var ec=eg._handlers&&eg._handlers[ee];if(!ec){return}for(var ed=0;ed<ec.length;++ed){if(ec[ed]==ef){ec.splice(ed,1);break}}}}}function af(eg,ef){var ec=eg._handlers&&eg._handlers[ef];if(!ec){return}var ed=Array.prototype.slice.call(arguments,2);for(var ee=0;ee<ec.length;++ee){ec[ee].apply(null,ed)}}var aN,bC=0;function M(eh,eg){var ec=eh._handlers&&eh._handlers[eg];if(!ec){return}var ee=Array.prototype.slice.call(arguments,2);if(!aN){++bC;aN=[];setTimeout(cZ,0)}function ed(ei){return function(){ei.apply(null,ee)}}for(var ef=0;ef<ec.length;++ef){aN.push(ed(ec[ef]))}}function cZ(){--bC;var ec=aN;aN=null;for(var ed=0;ed<ec.length;++ed){ec[ed]()}}function dz(ee,ed){var ec=ee._handlers&&ee._handlers[ed];return ec&&ec.length>0}z.on=bd;z.off=cJ;z.signal=af;var aI=30;var bn=z.Pass={toString:function(){return"CodeMirror.Pass"}};function eb(){this.id=null}eb.prototype={set:function(ec,ed){clearTimeout(this.id);this.id=setTimeout(ed,ec)}};function a9(ee,ec,eg,eh,ed){if(ec==null){ec=ee.search(/[^\s\u00a0]/);if(ec==-1){ec=ee.length}}for(var ef=eh||0,ei=ed||0;ef<ec;++ef){if(ee.charAt(ef)=="\t"){ei+=eg-(ei%eg)}else{++ei}}return ei}z.countColumn=a9;var au=[""];function bA(ec){while(au.length<=ec){au.push(dQ(au)+" ")}return au[ec]}function dQ(ec){return ec[ec.length-1]}function cs(ec){if(dj){ec.selectionStart=0;ec.selectionEnd=ec.value.length}else{ec.select()}}function cb(ef,ec){if(ef.indexOf){return ef.indexOf(ec)}for(var ed=0,ee=ef.length;ed<ee;++ed){if(ef[ed]==ec){return ed}}return -1}function bu(ef,ed){function ec(){}ec.prototype=ef;var ee=new ec();if(ed){ak(ed,ee)}return ee}function ak(ed,ec){if(!ec){ec={}}for(var ee in ed){if(ed.hasOwnProperty(ee)){ec[ee]=ed[ee]}}return ec}function S(ee){for(var ec=[],ed=0;ed<ee;++ed){ec.push(undefined)}return ec}function bF(ed){var ec=Array.prototype.slice.call(arguments,1);return function(){return ed.apply(null,ec)}}var aC=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function bI(ec){return/\w/.test(ec)||ec>"\x80"&&(ec.toUpperCase()!=ec.toLowerCase()||aC.test(ec))}function df(ec){for(var ed in ec){if(ec.hasOwnProperty(ed)&&ec[ed]){return false}}return true}var dE=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;function d2(ec,eg,ef,ee){var eh=document.createElement(ec);if(ef){eh.className=ef}if(ee){eh.style.cssText=ee}if(typeof eg=="string"){n(eh,eg)}else{if(eg){for(var ed=0;ed<eg.length;++ed){eh.appendChild(eg[ed])}}}return eh}function cA(ed){for(var ec=ed.childNodes.length;ec>0;--ec){ed.removeChild(ed.firstChild)}return ed}function ba(ec,ed){return cA(ec).appendChild(ed)}function n(ec,ed){if(bv){ec.innerHTML="";ec.appendChild(document.createTextNode(ed))}else{ec.textContent=ed}}function al(ec){return ec.getBoundingClientRect()}z.replaceGetRect=function(ec){al=ec};var da=function(){if(bv){return false}var ec=d2("div");return"draggable" in ec||"dragDrop" in ec}();function bm(){return false}if(bz){bm=function(ed,ec){return ed.charCodeAt(ec-1)==36&&ed.charCodeAt(ec)==39}}else{if(ae&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)){bm=function(ed,ec){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(ed.slice(ec-1,ec+1))}}else{if(bZ){bm=function(ed,ec){if(ec>1&&ed.charCodeAt(ec-1)==45&&/\w/.test(ed.charAt(ec-2))&&/[^\-?\.]/.test(ed.charAt(ec))){return true}return/[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|…[\w~`@#$%\^&*(_=+{[><]/.test(ed.slice(ec-1,ec+1))}}}}var cV;function i(ec){if(cV!=null){return cV}var ed=d2("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");ba(ec,ed);if(ed.offsetWidth){cV=ed.offsetHeight-ed.clientHeight}return cV||0}var dT;function aO(ec){if(dT==null){var ed=d2("span","\u200b");ba(ec,d2("span",[ed,document.createTextNode("x")]));if(ec.firstChild.offsetHeight!=0){dT=ed.offsetWidth<=1&&ed.offsetHeight>2&&!bw}}if(dT){return d2("span","\u200b")}else{return d2("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}}var av="\n\nb".split(/\n/).length!=3?function(eh){var ei=0,ec=[],eg=eh.length;while(ei<=eg){var ef=eh.indexOf("\n",ei);if(ef==-1){ef=eh.length}var ee=eh.slice(ei,eh.charAt(ef-1)=="\r"?ef-1:ef);var ed=ee.indexOf("\r");if(ed!=-1){ec.push(ee.slice(0,ed));ei+=ed+1}else{ec.push(ee);ei=ef+1}}return ec}:function(ec){return ec.split(/\r\n?|\n/)};z.splitLines=av;var aS=window.getSelection?function(ed){try{return ed.selectionStart!=ed.selectionEnd}catch(ec){return false}}:function(ee){try{var ec=ee.ownerDocument.selection.createRange()}catch(ed){}if(!ec||ec.parentElement()!=ee){return false}return ec.compareEndPoints("StartToEnd",ec)!=0};var b6=(function(){var ec=d2("div");if("oncopy" in ec){return true}ec.setAttribute("oncopy","return;");return typeof ec.oncopy=="function"})();var dw={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};z.keyNames=dw;(function(){for(var ec=0;ec<10;ec++){dw[ec+48]=String(ec)}for(var ec=65;ec<=90;ec++){dw[ec]=String.fromCharCode(ec)}for(var ec=1;ec<=12;ec++){dw[ec+111]=dw[ec+63235]="F"+ec}})();function cB(ec,eh,eg,ef){if(!ec){return ef(eh,eg,"ltr")}for(var ee=0;ee<ec.length;++ee){var ed=ec[ee];if(ed.from<eg&&ed.to>eh||eh==eg&&ed.to==eh){ef(Math.max(ed.from,eh),Math.min(ed.to,eg),ed.level==1?"rtl":"ltr")}}}function cl(ec){return ec.level%2?ec.to:ec.from}function d8(ec){return ec.level%2?ec.from:ec.to}function bL(ed){var ec=a(ed);return ec?cl(ec[0]):0}function bV(ed){var ec=a(ed);if(!ec){return ed.text.length}return d8(dQ(ec))}function aT(ed,eg){var ee=dt(ed.doc,eg);var eh=t(ed.doc,ee);if(eh!=ee){eg=a6(eh)}var ec=a(eh);var ef=!ec?0:ec[0].level%2?bV(eh):bL(eh);return I(eg,ef)}function cv(ee,eh){var ed,ef;while(ed=cU(ef=dt(ee.doc,eh))){eh=ed.find().to.line}var ec=a(ef);var eg=!ec?ef.text.length:ec[0].level%2?bL(ef):bV(ef);return I(eh,eg)}function V(ed,ee,ec){var ef=ed[0].level;if(ee==ef){return true}if(ec==ef){return false}return ee<ec}var dk;function ah(ec,eg){for(var ed=0,ee;ed<ec.length;++ed){var ef=ec[ed];if(ef.from<eg&&ef.to>eg){dk=null;return ed}if(ef.from==eg||ef.to==eg){if(ee==null){ee=ed}else{if(V(ec,ef.level,ec[ee].level)){dk=ee;return ed}else{dk=ed;return ee}}}}dk=null;return ee}function ds(ec,ef,ed,ee){if(!ee){return ef+ed}do{ef+=ed}while(ef>0&&dE.test(ec.text.charAt(ef)));return ef}function q(ec,ej,ee,ef){var eg=a(ec);if(!eg){return P(ec,ej,ee,ef)}var ei=ah(eg,ej),ed=eg[ei];var eh=ds(ec,ej,ed.level%2?-ee:ee,ef);for(;;){if(eh>ed.from&&eh<ed.to){return eh}if(eh==ed.from||eh==ed.to){if(ah(eg,eh)==ei){return eh}ed=eg[ei+=ee];return(ee>0)==ed.level%2?ed.to:ed.from}else{ed=eg[ei+=ee];if(!ed){return null}if((ee>0)==ed.level%2){eh=ds(ec,ed.to,-1,ef)}else{eh=ds(ec,ed.from,1,ef)}}}}function P(ec,eg,ed,ee){var ef=eg+ed;if(ee){while(ef>0&&dE.test(ec.text.charAt(ef))){ef+=ed}}return ef<0||ef>ec.text.length?null:ef}var aG=(function(){var ei="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL";var eg="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr";function ef(el){if(el<=255){return ei.charAt(el)}else{if(1424<=el&&el<=1524){return"R"}else{if(1536<=el&&el<=1791){return eg.charAt(el-1536)}else{if(1792<=el&&el<=2220){return"r"}else{return"L"}}}}}var ec=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var ek=/[stwN]/,ee=/[LRr]/,ed=/[Lb1n]/,eh=/[1n]/;var ej="L";return function(ev){if(!ec.test(ev)){return false}var eB=ev.length,er=[];for(var eA=0,en;eA<eB;++eA){er.push(en=ef(ev.charCodeAt(eA)))}for(var eA=0,eu=ej;eA<eB;++eA){var en=er[eA];if(en=="m"){er[eA]=eu}else{eu=en}}for(var eA=0,el=ej;eA<eB;++eA){var en=er[eA];if(en=="1"&&el=="r"){er[eA]="n"}else{if(ee.test(en)){el=en;if(en=="r"){er[eA]="R"}}}}for(var eA=1,eu=er[0];eA<eB-1;++eA){var en=er[eA];if(en=="+"&&eu=="1"&&er[eA+1]=="1"){er[eA]="1"}else{if(en==","&&eu==er[eA+1]&&(eu=="1"||eu=="n")){er[eA]=eu}}eu=en}for(var eA=0;eA<eB;++eA){var en=er[eA];if(en==","){er[eA]="N"}else{if(en=="%"){for(var eo=eA+1;eo<eB&&er[eo]=="%";++eo){}var eC=(eA&&er[eA-1]=="!")||(eo<eB-1&&er[eo]=="1")?"1":"N";for(var ey=eA;ey<eo;++ey){er[ey]=eC}eA=eo-1}}}for(var eA=0,el=ej;eA<eB;++eA){var en=er[eA];if(el=="L"&&en=="1"){er[eA]="L"}else{if(ee.test(en)){el=en}}}for(var eA=0;eA<eB;++eA){if(ek.test(er[eA])){for(var eo=eA+1;eo<eB&&ek.test(er[eo]);++eo){}var es=(eA?er[eA-1]:ej)=="L";var em=(eo<eB-1?er[eo]:ej)=="L";var eC=es||em?"L":"R";for(var ey=eA;ey<eo;++ey){er[ey]=eC}eA=eo-1}}var ez=[],ew;for(var eA=0;eA<eB;){if(ed.test(er[eA])){var ep=eA;for(++eA;eA<eB&&ed.test(er[eA]);++eA){}ez.push({from:ep,to:eA,level:0})}else{var eq=eA,et=ez.length;for(++eA;eA<eB&&er[eA]!="L";++eA){}for(var ey=eq;ey<eA;){if(eh.test(er[ey])){if(eq<ey){ez.splice(et,0,{from:eq,to:ey,level:1})}var ex=ey;for(++ey;ey<eA&&eh.test(er[ey]);++ey){}ez.splice(et,0,{from:ex,to:ey,level:2});eq=ey}else{++ey}}if(eq<eA){ez.splice(et,0,{from:eq,to:eA,level:1})}}}if(ez[0].level==1&&(ew=ev.match(/^\s+/))){ez[0].from=ew[0].length;ez.unshift({from:0,to:ew[0].length,level:0})}if(dQ(ez).level==1&&(ew=ev.match(/\s+$/))){dQ(ez).to-=ew[0].length;ez.push({from:eB-ew[0].length,to:eB,level:0})}if(ez[0].level!=dQ(ez).level){ez.push({from:eB,to:eB,level:ez[0].level})}return ez}})();z.version="3.13 +";return z})();(function(){var b=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8);var d=CodeMirror.Pos;var g={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function c(n,p,z){var j=n.state.matchBrackets;var u=(j&&j.maxScanLineLength)||10000;var h=p||n.getCursor(),q=n.getLineHandle(h.line),k=h.ch-1;var m=(k>=0&&g[q.text.charAt(k)])||g[q.text.charAt(++k)];if(!m){return null}var o=m.charAt(1)==">",y=o?1:-1;if(z&&o!=(k==h.ch)){return null}var w=n.getTokenAt(d(h.line,k+1)).type;var l=[q.text.charAt(k)],t=/[(){}[\]]/;function s(A,G,F){if(!A.text){return}var E=o?0:A.text.length-1,i=o?A.text.length:-1;if(A.text.length>u){return null}var B=A.text.length<1000;if(F!=null){E=F+y}for(;E!=i;E+=y){var D=A.text.charAt(E);if(t.test(D)&&(!B||n.getTokenAt(d(G,E+1)).type==w)){var C=g[D];if(C.charAt(1)==">"==o){l.push(D)}else{if(l.pop()!=C.charAt(0)){return{pos:E,match:false}}else{if(!l.length){return{pos:E,match:true}}}}}}}for(var v=h.line,r,x=o?Math.min(v+100,n.lineCount()):Math.max(-1,v-100);v!=x;v+=y){if(v==h.line){r=s(q,v,k)}else{r=s(n.getLineHandle(v),v)}if(r){break}}return{from:d(h.line,k),to:r&&d(v,r.pos),match:r&&r.match,forward:o}}function a(i,o){var l=i.state.matchBrackets.maxHighlightLineLength||1000;var n=c(i);if(!n||i.getLine(n.from.line).length>l||n.to&&i.getLine(n.to.line).length>l){return}var m=n.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var k=i.markText(n.from,d(n.from.line,n.from.ch+1),{className:m});var j=n.to&&i.markText(n.to,d(n.to.line,n.to.ch+1),{className:m});if(b&&i.state.focused){i.display.input.focus()}var h=function(){i.operation(function(){k.clear();j&&j.clear()})};if(o){setTimeout(h,800)}else{return h}}var e=null;function f(h){h.operation(function(){if(e){e();e=null}if(!h.somethingSelected()){e=a(h,false)}})}CodeMirror.defineOption("matchBrackets",false,function(h,j,i){if(i&&i!=CodeMirror.Init){h.off("cursorActivity",f)}if(j){h.state.matchBrackets=typeof j=="object"?j:{};h.on("cursorActivity",f)}});CodeMirror.defineExtension("matchBrackets",function(){a(this,true)});CodeMirror.defineExtension("findMatchingBracket",function(i,h){return c(this,i,h)})})();(function(){var a={};var d=/[^\s\u00a0]/;var b=CodeMirror.Pos;function c(f){var e=f.search(d);return e==-1?0:e}CodeMirror.commands.toggleComment=function(e){var g=e.getCursor("start"),f=e.getCursor("end");e.uncomment(g,f)||e.lineComment(g,f)};CodeMirror.defineExtension("lineComment",function(j,k,n){if(!n){n=a}var l=this,g=CodeMirror.innerMode(l.getMode(),l.getTokenAt(j).state).mode;var m=n.lineComment||g.lineComment;if(!m){if(n.blockCommentStart||g.blockCommentStart){n.fullLines=true;l.blockComment(j,k,n)}return}var i=l.getLine(j.line);if(i==null){return}var f=Math.min(k.ch!=0||k.line==j.line?k.line+1:k.line,l.lastLine()+1);var e=n.padding==null?" ":n.padding;var h=n.commentBlankLines||j.line==k.line;l.operation(function(){if(n.indent){var q=i.slice(0,c(i));for(var p=j.line;p<f;++p){var o=l.getLine(p),r=q.length;if(!h&&!d.test(o)){continue}if(o.slice(0,r)!=q){r=c(o)}l.replaceRange(q+m+e,b(p,0),b(p,r))}}else{for(var p=j.line;p<f;++p){if(h||d.test(l.getLine(p))){l.replaceRange(m+e,b(p,0))}}}})});CodeMirror.defineExtension("blockComment",function(i,j,m){if(!m){m=a}var l=this,g=CodeMirror.innerMode(l.getMode(),l.getTokenAt(i).state).mode;var h=m.blockCommentStart||g.blockCommentStart;var k=m.blockCommentEnd||g.blockCommentEnd;if(!h||!k){if((m.lineComment||g.lineComment)&&m.fullLines!=false){l.lineComment(i,j,m)}return}var f=Math.min(j.line,l.lastLine());if(f!=i.line&&j.ch==0&&d.test(l.getLine(f))){--f}var e=m.padding==null?" ":m.padding;if(i.line>f){return}l.operation(function(){if(m.fullLines!=false){var p=d.test(l.getLine(f));l.replaceRange(e+k,b(f));l.replaceRange(h+e,b(i.line,0));var n=m.blockCommentLead||g.blockCommentLead;if(n!=null){for(var o=i.line+1;o<=f;++o){if(o!=f||p){l.replaceRange(n+e,b(o,0))}}}}else{l.replaceRange(k,j);l.replaceRange(h,i)}})});CodeMirror.defineExtension("uncomment",function(w,g,h){if(!h){h=a}var u=this,r=CodeMirror.innerMode(u.getMode(),u.getTokenAt(w).state).mode;var j=Math.min(g.line,u.lastLine()),k=Math.min(w.line,j);var t=h.lineComment||r.lineComment,f=[];var z=h.padding==null?" ":h.padding,m;lineComment:{if(!t){break lineComment}for(var x=k;x<=j;++x){var n=u.getLine(x);var o=n.indexOf(t);if(o==-1&&(x!=j||x==k)&&d.test(n)){break lineComment}if(x!=k&&o>-1&&d.test(n.slice(0,o))){break lineComment}f.push(n)}u.operation(function(){for(var C=k;C<=j;++C){var A=f[C-k];var D=A.indexOf(t),B=D+t.length;if(D<0){continue}if(A.slice(B,B+z.length)==z){B+=z.length}m=true;u.replaceRange("",b(C,D),b(C,B))}});if(m){return true}}var p=h.blockCommentStart||r.blockCommentStart;var e=h.blockCommentEnd||r.blockCommentEnd;if(!p||!e){return false}var y=h.blockCommentLead||r.blockCommentLead;var v=u.getLine(k),l=j==k?v:u.getLine(j);var q=v.indexOf(p),s=l.lastIndexOf(e);if(s==-1&&k!=j){l=u.getLine(--j);s=l.lastIndexOf(e)}if(q==-1||s==-1){return false}u.operation(function(){u.replaceRange("",b(j,s-(z&&l.slice(s-z.length,s)==z?z.length:0)),b(j,s+e.length));var D=q+p.length;if(z&&v.slice(D,D+z.length)==z){D+=z.length}u.replaceRange("",b(k,q),b(k,D));if(y){for(var C=k+1;C<=j;++C){var B=u.getLine(C),E=B.indexOf(y);if(E==-1||d.test(B.slice(0,E))){continue}var A=E+y.length;if(z&&B.slice(A,A+z.length)==z){A+=z.length}u.replaceRange("",b(C,E),b(C,A))}}});return true})})();CodeMirror.defineMode("javascript",function(P,U){var x=P.indentUnit;var Z=U.statementIndent;var Y=U.json;var B=U.typescript;var b=function(){function al(an){return{type:an,style:"keyword"}}var ag=al("keyword a"),ae=al("keyword b"),ad=al("keyword c");var af=al("operator"),aj={type:"atom",style:"atom"};var ah={"if":al("if"),"while":ag,"with":ag,"else":ae,"do":ae,"try":ae,"finally":ae,"return":ad,"break":ad,"continue":ad,"new":ad,"delete":ad,"throw":ad,"var":al("var"),"const":al("var"),let:al("var"),"function":al("function"),"catch":al("catch"),"for":al("for"),"switch":al("switch"),"case":al("case"),"default":al("default"),"in":af,"typeof":af,"instanceof":af,"true":aj,"false":aj,"null":aj,"undefined":aj,"NaN":aj,"Infinity":aj,"this":al("this")};if(B){var am={type:"variable",style:"variable-3"};var ai={"interface":al("interface"),"class":al("class"),"extends":al("extends"),constructor:al("constructor"),"public":al("public"),"private":al("private"),"protected":al("protected"),"static":al("static"),"super":al("super"),string:am,number:am,bool:am,any:am};for(var ak in ai){ah[ak]=ai[ak]}}return ah}();var V=/[+\-*&%=<>!?|~^]/;function ab(af,ae,ad){ae.tokenize=ad;return ad(af,ae)}function h(ag,ad){var af=false,ae;while((ae=ag.next())!=null){if(ae==ad&&!af){return false}af=!af&&ae=="\\"}return af}var ac,q;function I(af,ae,ad){ac=af;q=ad;return ae}function m(ah,af){var ad=ah.next();if(ad=='"'||ad=="'"){return ab(ah,af,C(ad))}else{if(/[\[\]{}\(\),;\:\.]/.test(ad)){return I(ad)}else{if(ad=="0"&&ah.eat(/x/i)){ah.eatWhile(/[\da-f]/i);return I("number","number")}else{if(/\d/.test(ad)||ad=="-"&&ah.eat(/\d/)){ah.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return I("number","number")}else{if(ad=="/"){if(ah.eat("*")){return ab(ah,af,f)}else{if(ah.eat("/")){ah.skipToEnd();return I("comment","comment")}else{if(af.lastType=="operator"||af.lastType=="keyword c"||/^[\[{}\(,;:]$/.test(af.lastType)){h(ah,"/");ah.eatWhile(/[gimy]/);return I("regexp","string-2")}else{ah.eatWhile(V);return I("operator",null,ah.current())}}}}else{if(ad=="#"){ah.skipToEnd();return I("error","error")}else{if(V.test(ad)){ah.eatWhile(V);return I("operator",null,ah.current())}else{ah.eatWhile(/[\w\$_]/);var ag=ah.current(),ae=b.propertyIsEnumerable(ag)&&b[ag];return(ae&&af.lastType!=".")?I(ae.type,ae.style,ag):I("variable","variable",ag)}}}}}}}}function C(ad){return function(af,ae){if(!h(af,ad)){ae.tokenize=m}return I("string","string")}}function f(ag,af){var ad=false,ae;while(ae=ag.next()){if(ae=="/"&&ad){af.tokenize=m;break}ad=(ae=="*")}return I("comment","comment")}var l={atom:true,number:true,variable:true,string:true,regexp:true,"this":true};function v(ai,ae,ad,ah,af,ag){this.indented=ai;this.column=ae;this.type=ad;this.prev=af;this.info=ag;if(ah!=null){this.align=ah}}function y(af,ae){for(var ad=af.localVars;ad;ad=ad.next){if(ad.name==ae){return true}}}function K(ah,ae,ad,ag,ai){var aj=ah.cc;w.state=ah;w.stream=ai;w.marked=null,w.cc=aj;if(!ah.lexical.hasOwnProperty("align")){ah.lexical.align=true}while(true){var af=aj.length?aj.pop():Y?z:A;if(af(ad,ag)){while(aj.length&&aj[aj.length-1].lex){aj.pop()()}if(w.marked){return w.marked}if(ad=="variable"&&y(ah,ag)){return"variable-2"}return ae}}}var w={state:null,column:null,marked:null,cc:null};function a(){for(var ad=arguments.length-1;ad>=0;ad--){w.cc.push(arguments[ad])}}function N(){a.apply(null,arguments);return true}function n(ae){function ad(ah){for(var ag=ah;ag;ag=ag.next){if(ag.name==ae){return true}}return false}var af=w.state;if(af.context){w.marked="def";if(ad(af.localVars)){return}af.localVars={name:ae,next:af.localVars}}else{if(ad(af.globalVars)){return}af.globalVars={name:ae,next:af.globalVars}}}var J={name:"this",next:{name:"arguments"}};function u(){w.state.context={prev:w.state.context,vars:w.state.localVars};w.state.localVars=J}function t(){w.state.localVars=w.state.context.vars;w.state.context=w.state.context.prev}function k(ae,af){var ad=function(){var ah=w.state,ag=ah.indented;if(ah.lexical.type=="stat"){ag=ah.lexical.indented}ah.lexical=new v(ag,w.stream.column(),ae,null,ah.lexical,af)};ad.lex=true;return ad}function M(){var ad=w.state;if(ad.lexical.prev){if(ad.lexical.type==")"){ad.indented=ad.lexical.indented}ad.lexical=ad.lexical.prev}}M.lex=true;function c(ad){return function(ae){if(ae==ad){return N()}else{if(ad==";"){return a()}else{return N(arguments.callee)}}}}function A(ad){if(ad=="var"){return N(k("vardef"),Q,c(";"),M)}if(ad=="keyword a"){return N(k("form"),z,A,M)}if(ad=="keyword b"){return N(k("form"),A,M)}if(ad=="{"){return N(k("}"),o,M)}if(ad==";"){return N()}if(ad=="if"){return N(k("form"),z,A,M,L(w.state.indented))}if(ad=="function"){return N(i)}if(ad=="for"){return N(k("form"),c("("),k(")"),g,c(")"),M,A,M)}if(ad=="variable"){return N(k("stat"),H)}if(ad=="switch"){return N(k("form"),z,k("}","switch"),c("{"),o,M,M)}if(ad=="case"){return N(z,c(":"))}if(ad=="default"){return N(c(":"))}if(ad=="catch"){return N(k("form"),u,c("("),r,c(")"),A,M,t)}return a(k("stat"),z,c(";"),M)}function z(ad){return S(ad,false)}function T(ad){return S(ad,true)}function S(ad,af){var ae=af?j:F;if(l.hasOwnProperty(ad)){return N(ae)}if(ad=="function"){return N(i)}if(ad=="keyword c"){return N(af?E:G)}if(ad=="("){return N(k(")"),G,c(")"),M,ae)}if(ad=="operator"){return N(af?T:z)}if(ad=="["){return N(k("]"),W(T,"]"),M,ae)}if(ad=="{"){return N(k("}"),W(p,"}"),M,ae)}return N()}function G(ad){if(ad.match(/[;\}\)\],]/)){return a()}return a(z)}function E(ad){if(ad.match(/[;\}\)\],]/)){return a()}return a(T)}function F(ad,ae){if(ad==","){return N(z)}return j(ad,ae,F)}function j(ad,af,ae){if(!ae){ae=j}if(ad=="operator"){if(/\+\+|--/.test(af)){return N(ae)}if(af=="?"){return N(z,c(":"),z)}return N(z)}if(ad==";"){return}if(ad=="("){return N(k(")","call"),W(T,")"),M,ae)}if(ad=="."){return N(X,ae)}if(ad=="["){return N(k("]"),z,c("]"),M,ae)}}function H(ad){if(ad==":"){return N(M,A)}return a(F,c(";"),M)}function X(ad){if(ad=="variable"){w.marked="property";return N()}}function p(ad,ae){if(ad=="variable"){w.marked="property";if(ae=="get"||ae=="set"){return N(D)}}else{if(ad=="number"||ad=="string"){w.marked=ad+" property"}}if(l.hasOwnProperty(ad)){return N(c(":"),T)}}function D(ad){if(ad==":"){return N(z)}if(ad!="variable"){return N(c(":"),z)}w.marked="property";return N(i)}function W(af,ad){function ae(ah){if(ah==","){var ag=w.state.lexical;if(ag.info=="call"){ag.pos=(ag.pos||0)+1}return N(af,ae)}if(ah==ad){return N()}return N(c(ad))}return function(ag){if(ag==ad){return N()}else{return a(af,ae)}}}function o(ad){if(ad=="}"){return N()}return a(A,o)}function s(ad){if(ad==":"){return N(aa)}return a()}function aa(ad){if(ad=="variable"){w.marked="variable-3";return N()}return a()}function Q(ad,ae){if(ad=="variable"){n(ae);return B?N(s,O):N(O)}return a()}function O(ad,ae){if(ae=="="){return N(T,O)}if(ad==","){return N(Q)}}function L(ad){return function(ae,af){if(ae=="keyword b"&&af=="else"){w.state.lexical=new v(ad,0,"form",null,w.state.lexical);return N(A,M)}return a()}}function g(ad){if(ad=="var"){return N(Q,c(";"),e)}if(ad==";"){return N(e)}if(ad=="variable"){return N(R)}return a(z,c(";"),e)}function R(ad,ae){if(ae=="in"){return N(z)}return N(F,e)}function e(ad,ae){if(ad==";"){return N(d)}if(ae=="in"){return N(z)}return a(z,c(";"),d)}function d(ad){if(ad!=")"){N(z)}}function i(ad,ae){if(ad=="variable"){n(ae);return N(i)}if(ad=="("){return N(k(")"),u,W(r,")"),M,A,t)}}function r(ad,ae){if(ad=="variable"){n(ae);return B?N(s):N()}}return{startState:function(ad){return{tokenize:m,lastType:null,cc:[],lexical:new v((ad||0)-x,0,"block",false),localVars:U.localVars,globalVars:U.globalVars,context:U.localVars&&{vars:U.localVars},indented:0}},token:function(af,ae){if(af.sol()){if(!ae.lexical.hasOwnProperty("align")){ae.lexical.align=false}ae.indented=af.indentation()}if(ae.tokenize!=f&&af.eatSpace()){return null}var ad=ae.tokenize(af,ae);if(ac=="comment"){return ad}ae.lastType=ac=="operator"&&(q=="++"||q=="--")?"incdec":ac;return K(ae,ad,ac,q,af)},indent:function(ai,ad){if(ai.tokenize==f){return CodeMirror.Pass}if(ai.tokenize!=m){return 0}var ah=ad&&ad.charAt(0),af=ai.lexical;if(af.type=="stat"&&ah=="}"){af=af.prev}if(Z&&af.type==")"&&af.prev.type=="stat"){af=af.prev}var ag=af.type,ae=ah==ag;if(ag=="vardef"){return af.indented+(ai.lastType=="operator"||ai.lastType==","?4:0)}else{if(ag=="form"&&ah=="{"){return af.indented}else{if(ag=="form"){return af.indented+x}else{if(ag=="stat"){return af.indented+(ai.lastType=="operator"||ai.lastType==","?Z||x:0)}else{if(af.info=="switch"&&!ae){return af.indented+(/^(?:case|default)\b/.test(ad)?x:2*x)}else{if(af.align){return af.column+(ae?0:1)}else{return af.indented+(ae?0:x)}}}}}}},electricChars:":{}",blockCommentStart:Y?null:"/*",blockCommentEnd:Y?null:"*/",lineComment:Y?null:"//",jsonMode:Y}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("text/ecmascript","javascript");CodeMirror.defineMIME("application/javascript","javascript");CodeMirror.defineMIME("application/ecmascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMIME("application/x-json",{name:"javascript",json:true});CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:true});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:true});