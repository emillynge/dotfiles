(function(){if(!!window.Intent||!!window.WebKitIntent){return}var L=function(f,e,h,g){window.addEventListener?f.addEventListener(e,h,g):f.attachEvent("on"+e,h)},K="http://webintents.org/",J=K+"intents.html",I=K+"picker.html",H={},G={},F=function(b){return window.btoa(unescape(encodeURIComponent(JSON.stringify(b)))).replace(/=/g,"_")},E=function(b){return JSON.parse(window.atob(b.replace(/_/g,"=")))},D=function(){};D.prototype.startActivity=function(d,n,m){var j="intent"+(new Date).valueOf(),g="directories=no,menubar=no,status=0,location=0,fullscreen=no,width=300,height=300",f=document.getElementById("webintents_channel");d._id=j,d._callback=n?!0:!1,d._error=m?!0:!1,G[j]={intent:d};var b=window.open(I,F(d),g);n&&(f.contentWindow.postMessage(C({request:"registerCallback",id:j}),K),G[j].callback=n),m&&(f.contentWindow.postMessage(C({request:"registerErrorCallback",id:j}),K),G[j].errorCallback=m)};var C=function(b){return JSON.stringify(b)},B=function(e){var d;try{d=JSON.parse(e.data),!!d.intent==1&&!!G[d.intent._id]==1&&d.request&&d.request=="response"?G[d.intent._id].callback(d.intent.data,d.intent.extras):!!d.intent==1&&!!G[d.intent._id]==1&&d.request&&d.request=="errorResponse"?G[d.intent._id].errorCallback(d.intent.data):d.request=="ready"&&v()}catch(f){!!console&&!!console.log&&console.log(f)}};L(window,"message",B,!1);var A=function(d){var c=new y;c._id=d._id,c.action=d.action,c.type=d.type,c.data=d.data,c.extras=d.extras,window.intent=c},z=function(b,n,m,l,k,j){if(window.self!=window.top){return}var i=document.getElementById("webintents_channel");!!m==0&&(m=document.location.toString()),m.substring(0,7)!="http://"&&m.substring(0,8)!="https://"&&(m.substring(0,1)=="/"?m=window.location.protocol+"//"+window.location.host+"/"+m:(path=document.location.href,path=path.substring(0,path.lastIndexOf("/")+1),m=path+m)),i.contentWindow.postMessage(C({request:"register",intent:{action:b,type:n,url:m,title:l,icon:k,domain:window.location.host,disposition:j}}),K)},y=function(h,g,l,k){var j=this,i=!1;this.action=h,this.type=g,this.data=l,this.extras=k,this.postResult=function(f,e){if(i){return}var n=document.getElementById("webintents_channel"),m=new y;m._id=j._id,m.action=j.action,m.data=f,m.extras=e,setTimeout(function(){n.contentWindow.postMessage(C({request:"intentResponse",intent:m}),"*")},500),i=!0},this.postFailure=function(e){if(i){return}var d=document.getElementById("webintents_channel"),f=new y;f._id=j._id,f.action=j.action,f.data=e,setTimeout(function(){d.contentWindow.postMessage(C({request:"intentErrorResponse",intent:f}),"*")},500),i=!0}};y.SHARE="http://webintents.org/share",y.SEND="http://webintents.org/send",y.EDIT="http://webintents.org/edit",y.VIEW="http://webintents.org/view",y.PICK="http://webintents.org/pick";var x=function(){var f=document.getElementsByTagName("link"),e;for(var h=0;e=f[h];h++){if((e.rel=="icon"||e.rel=="shortcut")&&!!e.href){var g=e.href;if(g.substring(0,7)=="http://"||g.substring(0,8)=="https://"){return g}if(g.substring(0,1)=="/"){return window.location.protocol+"//"+window.location.host+"/"+g}path=document.location.href,path=path.substring(0,path.lastIndexOf("/")+1),g=path+g}}return window.location.protocol+"//"+window.location.host+"/favicon.ico"},w=function(i){var h=i.getAttribute("title")||document.title||window.location.host,n=i.getAttribute("href")||document.location.href,m=i.getAttribute("action"),l=i.getAttribute("type"),k=i.getAttribute("disposition")||"new",j=i.getAttribute("icon")||x();if(!!m==0){return}z(m,l,n,h,j,k)},v=function(){var e=document.getElementsByTagName("intent"),d;for(var f=0;d=e[f];f++){w(d)}},u=function(b){b.target.tagName=="INTENT"&&w(b.target)},t=function(){var a=new D;window.Intent=y,window.navigator.startActivity=a.startActivity;if(window.name!=""){var j=!1;j=window.history.length==1?!0:!1,j&&(A(JSON.parse(window.atob(window.name.replace(/_/g,"=")))),window.name="")}if(!!window.postMessage){var i=document.createElement("iframe");i.style.display="none",i.id="webintents_channel",L(i,"load",function(){i.src!=J&&(i.src=J)},!1);var h=document.getElementsByTagName("HEAD");if(h.length>0){var c=h[0];L(c,"DOMNodeInserted",u,!1),c.appendChild(i),i.src=J}}};t()})();var JSON;JSON||(JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i){return"null"}gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1){h[c]=str(c,i)||"null"}return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1){typeof rep[c]=="string"&&(d=rep[c],e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}}else{for(d in i){Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}}return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}"use strict",typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number"){for(d=0;d<c;d+=1){indent+=" "}}else{typeof c=="string"&&(indent=c)}rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number"){return str("",{"":a})}throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object"){for(c in e){Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c])}}return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})}();if(typeof btoa=="undefined"){function btoa(x){var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",v=[],u=0;while(u<x.length){var t=x.charCodeAt(u++),s=x.charCodeAt(u++),r=x.charCodeAt(u++),q=(t<<16)+((s||0)<<8)+(r||0),p=(q&63<<18)>>18,o=(q&258048)>>12,n=isNaN(s)?64:(q&4032)>>6,m=isNaN(r)?64:q&63;v[v.length]=w.charAt(p),v[v.length]=w.charAt(o),v[v.length]=w.charAt(n),v[v.length]=w.charAt(m)}return v.join("")}}if(typeof atob=="undefined"){function atob(z){var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",x={strlen:z.length%4!=0,chars:(new RegExp("[^"+y+"]")).test(z),equals:/=/.test(z)&&(/=[^=]/.test(z)||/={3}/.test(z))};if(x.strlen||x.chars||x.equals){throw new Error("Invalid base64 data")}var w=[],v=0;while(v<z.length){var u=y.indexOf(z.charAt(v++)),t=y.indexOf(z.charAt(v++)),s=y.indexOf(z.charAt(v++)),r=y.indexOf(z.charAt(v++)),q=(u<<18)+(t<<12)+((s&63)<<6)+(r&63),p=(q&255<<16)>>16,o=s==64?-1:(q&65280)>>8,n=r==64?-1:q&255;w[w.length]=String.fromCharCode(p),o>=0&&(w[w.length]=String.fromCharCode(o)),n>=0&&(w[w.length]=String.fromCharCode(n))}return w.join("")}};